<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Bash代写：COMP206 Advanced Bash Scripting, 留学生CS|辅导|代写">
    <meta name="description" content=" Bash 相关的编程问题，按照要求实现脚本。![Bash](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Bash_screenshot.png/300px-Bash_">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Bash代写：COMP206 Advanced Bash Scripting | 留学生CS|辅导|代写</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">留学生CS|辅导|代写</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>辅导案例集合</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">留学生CS|辅导|代写</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			辅导案例集合
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Bash代写：COMP206 Advanced Bash Scripting</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Bash%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">Bash代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-02-06
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)" title="Bash"> Bash </a><br>相关的编程问题，按照要求实现脚本。<br>![Bash](<a target="_blank" rel="noopener" href="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Bash_screenshot.png/300px-">https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Bash_screenshot.png/300px-</a><br>Bash_screenshot.png)</p>
<h2 id="Requirement"><a href="#Requirement" class="headerlink" title="Requirement"></a>Requirement</h2><p>Questions in this exercise requires you to turn in scripts. Instructors&#x2F;TAs<br>upon their discretion may ask you to demonstrate&#x2F;explain your solution. No<br>points are awarded for commands that do not execute at all or programs that do<br>not compile in mimi. (Commands&#x2F;programs that execute&#x2F;compile, but provide<br>incorrect behavior&#x2F;output will be given partial marks.) All questions are<br>graded proportionally. This means that if 40% of the question is correct, you<br>will receive 40% of the grade.<br>Please read through the entire assignment before you start working on it. You<br>can loose up to 3 points for not following the instructions.<br>Labs A through D will provide some background help for this mini assignment.<br>Unless otherwise stated, all the names of the scripts and programs that you<br>write, commands, options, input arguments, etc. are implied to be case-<br>sensitive.</p>
<h2 id="Ex-1-Customizing-your-login-shell"><a href="#Ex-1-Customizing-your-login-shell" class="headerlink" title="Ex. 1 Customizing your login shell"></a>Ex. 1 Customizing your login shell</h2><p>For this question you will need to:</p>
<ul>
<li>Determine which login script your shell uses when you ssh or putty. </li>
<li>Modify your login script as specified below. </li>
<li>Comment the login script with your changes. </li>
<li>Upload the login script as part of your assignment submission.<br>Modify your login script in all the following ways:</li>
</ul>
<ol>
<li>Display Welcome to [hostname]! Here you should replace [hostname] with the name of the host to which you login (explore the hostname command and see how you can incorporate it’s output into this message). </li>
<li>List the total number of sessions in which you are logged into that particular host (Explore a combination of who, grep and wc commands to accomplish this task). The message should be You have <code>&lt;X&gt;</code> login sessions to this host. Replace <code>&lt;X&gt;</code> with actual number of sessions that you have logged into that system. </li>
<li>Alias comp206 so that typing it executes cd &#x2F;Projects&#x2F;COMP206 (the folder you created in mini 1 assignment). </li>
<li>Set your shell’s prompt to include your user name, host name, current directory and time (all dynamic - see sample screenshot below for an expected outcome). </li>
<li>Execute the fortune command to display any random quote. </li>
<li>Plus one other thing of your liking (make sure to comment this one for the TA). (1 Point) for writing comments on the script describing the intentions of respective commands&#x2F;statements.<br>Below is an expected screen shot of what happens when you login. In this<br>instance, I logged in and got a prompt which has time included in it. I<br>executed the pwd and cd commands only to show that the next prompt that the<br>shell gives has the time and directory automatically updated. You do not have<br>to do execute these commands in your updated profile.<br>I recommend you start out by implementing&#x2F;testing each idea in the shell<br>prompt first before making changes to your actual login script.<br>For this exercise, you should turn in your modified login script.</li>
</ol>
<h2 id="Ex-2-Using-shell-environment-variables"><a href="#Ex-2-Using-shell-environment-variables" class="headerlink" title="Ex. 2 Using shell environment variables"></a>Ex. 2 Using shell environment variables</h2><p>In this exercise, you will learn how to use a set of environment variables<br>that are setup in a “configuration script”, in your main program script, so<br>that your main script can be run without modification by users of your<br>program. You have been provided with a configuration script a3config that is a<br>simple text file which contains the environment variables that we will be<br>using. The contents of this file is shown below for discussion. You can use vi<br>to edit this file.<br>    $ cat a3config<br>    # You may edit this file for your testing.<br>    # You should only change the values of the variables for the purpose of your testing # However, TAs will use their own a3config file to test your script with.<br>    # Therefore, do not add any other code here that is required for your script’s execution.<br>    DIRNAME&#x3D;&#x2F;tmp&#x2F;<strong>206</strong>$LOGNAME&#x2F;mydir<br>    EXTENSION&#x3D;msg<br>    SHOW&#x3D;true<br>Your task is to write a script finder.sh that will check if there are files in<br>the directory whose value is stored in the variable DIRNAME such that the<br>files have the extension as indicated in the variable EXTENSION. If there are<br>such files, you should print a list of them. Further, if the variable SHOW has<br>the value true, the contents of the file must be displayed to screen.<br>In order to accomplish this, you will have to execute the contents of a3config<br>within finder.sh. Explore the source or dot (.) commands to accomplish this.<br>If your finder.sh script cannot find a3config, then it should throw an error<br>message and terminate the script with a non zero exit code.<br>    $ .&#x2F;finder.sh<br>    Error cannot find a3config<br>    $ echo $?<br>The echo $? command is included above to merely show you the exit code from<br>the script was non zero.<br>If either of the variables DIRNAME or EXTENSION is not present in a3config or<br>if their values are empty, the script should display an error message and<br>terminate with a non zero exit code.<br>    $ .&#x2F;finder.sh<br>    Error DIRNAME and EXTENSION must be set<br>    $ echo $?<br>If the directory mentioned in DIRNAME does not exist, then the script should<br>throw an error message and terminate with a non zero exit code.<br>    $ .&#x2F;finder.sh<br>    Error directory &#x2F;nosuchdir&#x2F;dir1 does not exist<br>    $ echo $?<br>If the script cannot locate any files in the directory that have the expected<br>extension, then it should display the following message, but still terminate<br>with a zero exit code.<br>    $ .&#x2F;finder.sh<br>    Unable to locate any files with extension msg in &#x2F;etc<br>    $ echo $?<br>If the script is able to locate files in the directory, and the value of SHOW<br>is true then it should list the names of the files, along with the contents of<br>each file and terminate with a zero exit code.<br>If the script is able to locate files in the directory, but the value of SHOW<br>is not set to true or if the SHOW variable itself is missing from a3config,<br>then it should list the names of the files, but do not display the contents of<br>files and terminate with a zero exit code.</p>
<ol>
<li>Your finder.sh must be executable using the bash shell in mimi. </li>
<li>For properly commenting throughout the source code. </li>
<li>Detecting and displaying an error message and terminating with non zero exit code when the script cannot find a3config. </li>
<li>Detecting and displaying an error message and terminating with non zero exit code when any of the variables DIRNAME and EXTENSION are not present a3config or is empty. </li>
<li>Displaying an error message and terminating with non zero exit code when the directory does not exist. </li>
<li>Displaying a message and terminating with zero exit code when the directory does exist but cannont locate any files with the expected extension. </li>
<li>Displaying only a list of files (not contents) and terminating with zero exit code when the directory does exist and is able to locate files with the expected extension, however the variable SHOW is not set in a3config or is not set to the value true. </li>
<li>Displaying a list of files and their contents and terminating with zero exit code when the directory does exist and is able to locate files with the expected extension, and the variable SHOW is set in a3config to the value true.<br>For this exercise, you should turn in the finder.sh script that you wrote.</li>
</ol>
<h2 id="Ex-3-Defining-functions-in-shell"><a href="#Ex-3-Defining-functions-in-shell" class="headerlink" title="Ex. 3 Defining functions in shell"></a>Ex. 3 Defining functions in shell</h2><p>In this exercise, you will update the script showusr that is given to you (you<br>can use vi to edit this file), to write a function fname, that accepts a<br>userid (such as your socs unix account) as the argument and sets an<br>environment variable FNAME with the value that is the first name of the userid<br>(explore the pinky command to get the first name of the userid). The function<br>will also return an integer code to indicate its status (see examples below).<br>Do not use the exit command in the function !</p>
<ol>
<li>For properly commenting throughout the source code. </li>
<li>If fname is not passed an argument, set the variable FNAME to ERROR and return a value of 1. Below is an example of me “loading” the function to shell environment and then executing it (with no argument). I am using the echo command to check the return code as well as the value stored in FNAME. </li>
<li>if the argument passed to fname cannot be found among the sessions logged in, it should set FNAME to NOTFOUND and return 0. </li>
<li>if the userid passed as argument to fname is found among the sessions logged in, it should set FNAME to the first name of that user and return 0.<br>You should turn in your modified showusr script.</li>
</ol>
<h2 id="WHAT-TO-HAND-IN"><a href="#WHAT-TO-HAND-IN" class="headerlink" title="WHAT TO HAND IN"></a>WHAT TO HAND IN</h2><p>Turn in the modified login script, and the scripts finders.sh, and showusr<br>named properly (3 items). You do not have to zip all of the files together.<br>The files must be uploaded to mycourses under assignment 3. DO NOT turn in<br>a3config. TAs will use their own a3config.</p>
<h2 id="MISC-INFORMATION"><a href="#MISC-INFORMATION" class="headerlink" title="MISC. INFORMATION"></a>MISC. INFORMATION</h2><p>There is a tester script mini3tester.sh that is provided with the assignment<br>that you can use to test how your finder.sh and showusr is behaving. TAs will<br>be using the exact same tester script to grade your assignment. You can test<br>your modified login script by doing a login to mimi as usual.<br>    $ .&#x2F;mini3tester.sh<br>It is recommended that when you start writing your program, test it yourself<br>first with the above examples. Once you are fairly confident that your program<br>is working, you can test it using the tester script.<br>You can compare the output produced by running the mini tester on your scripts<br>to that produced by the mini tester on the solution which is given in<br>mini3tester.out.txt.<br>You have to implement only the scenarios discussed in the above examples and<br>as required to pass the tester script given to you. You are free to explore<br>for sophisticated approaches, but not obliged to.</p>
<h2 id="FOOD-FOR-THOUGHT"><a href="#FOOD-FOR-THOUGHT" class="headerlink" title="FOOD FOR THOUGHT!"></a>FOOD FOR THOUGHT!</h2><p>The following discussion is meant to encourage you to search independently for<br>creative and optimal ways to perform rudimentary tasks with less effort and&#x2F;or<br>make your program robust and sophisticated. It does not impact the points that<br>you can achieve in the above questions.</p>
<ul>
<li>The command pinky can be used to find a person’s information if they have a session running in the host. Can you find another command that can be used for the same purpose, even if the person is not logged into the host?</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://saferman.github.io/2022/02/06/Bash%E4%BB%A3%E5%86%99%EF%BC%9ACOMP206AdvancedBashScripting/">http://saferman.github.io/2022/02/06/Bash%E4%BB%A3%E5%86%99%EF%BC%9ACOMP206AdvancedBashScripting/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Bash%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">Bash代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/02/07/OpenGL%E4%BB%A3%E5%86%99%EF%BC%9ACCSI3161Planets/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="OpenGL代写：CCSI3161 Planets">
                        
                        <span class="card-title">OpenGL代写：CCSI3161 Planets</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-02-07
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/OpenGL%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">OpenGL代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/02/06/DataStructure%E4%BB%A3%E5%86%99%EF%BC%9ACSC261AVLTree/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/14.jpg" class="responsive-img" alt="Data Structure代写：CSC261 AVL Tree">
                        
                        <span class="card-title">Data Structure代写：CSC261 AVL Tree</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-02-06
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Data-Structure%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">Data Structure代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
