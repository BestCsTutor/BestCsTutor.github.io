<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="NetworkProgramming代写：CS369FoilMakerGameClient, 留学生CS|辅导|代写">
    <meta name="description" content="使用Java代写一个网络游戏，包含网络通信，以及使用  Java Swing
 实现满足  MVC
模式的界面。  
Goal
Ability to use Java Networking API to facilitate communi">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>NetworkProgramming代写：CS369FoilMakerGameClient | 留学生CS|辅导|代写</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">留学生CS|辅导|代写</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>辅导案例集合</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">留学生CS|辅导|代写</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			辅导案例集合
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">NetworkProgramming代写：CS369FoilMakerGameClient</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Network-Programming%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">Network Programming代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-08-03
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>使用Java代写一个网络游戏，包含网络通信，以及使用 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Swing_(Java)" title="Java Swing"> Java Swing
</a> 实现满足 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" title="MVC"> MVC
</a><br>模式的界面。  </p>
<h2 id="Goal"><a href="#Goal" class="headerlink" title="Goal"></a>Goal</h2><ol>
<li>Ability to use Java Networking API to facilitate communication between a server and client application over the network </li>
<li>Implement a simple application layer network protocol </li>
<li>String manipulation </li>
<li>Understand and use the Model-View-Controller (MVC) architecture pattern for GUI programming </li>
<li>GUI programming with Java Swing</li>
</ol>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In this project you are going to learn and use the Networking API in Java.<br>This is a vital component technology in the Java platform stack as<br>communication between applications over the network is inevitable in modern<br>software. In fact, the vast majority of applications we use today interact<br>with a remote service in one way or another. Understanding how to have two<br>independent programs connect with each other over the network using a<br>client&#x2F;server model is an important skill.<br>We will learn this skill by creating a simple version of a popular game called<br>Psych. Psych is a simple multiplayer party game based on the idea of<br>outwitting people by fooling them into picking fake or incorrect words for a<br>given description. The version we will implement, allows the players to be<br>dispersed anywhere in the world, as long as they have an internet connection<br>and can run a Java program. A version of this game is available as an app for<br>both the Android and iOS platforms, with the name Psych! - you are strongly<br>encouraged to download this free app and play a round or two to get a sense of<br>how the game works.<br>For the purposes of this project, the game will work as follows. The game has<br>two separate programs that play the role of the server and the client,<br>respectively. For this project, you will be given the server component, and<br>will have to implement the Client program. In future projects, you will<br>implement the Server.<br>From the Client’s perspective: When the Client is first launched, the user has<br>an option to either login to the server with an existing user and password<br>combination, or register a new user and password combination. The Server is<br>designed to remember previously<br>created user and password combinations in a file (more details below). Once a<br>user is created, and logged into the game, the player has an the option to<br>either start a new game as the leader of the game, orjoin an existing game.<br>If the user chooses to start a new game, the server creates a special token<br>for this new game and sends that to the leader. The leader shares this token<br>with any other player that wants to join that game. If the user chooses<br>instead to join an existing game, they need to enter the token for that game.<br>Each new user that joins a game is displayed to the leader who can start<br>playing the game when all players have joined.<br>The game proceeds in rounds. In each round the server picks a description for<br>an uncommon word and sends it to each of the participants in the game (the<br>leader and all other players that have joined the game). Each participant<br>displays this description and allows the player to enter a suggested word for<br>this description. Once a participant enters their word, it is sent to the<br>server. The server collects the suggestions from each participants, and sends<br>them all, along with the correct answer that it already knows, to every<br>participant (the suggestions are in randomized order). Each participant shows<br>these suggestions and the real answer to the player who then tries to pick the<br>correct answer. Each participants selection is send to the server. When the<br>server receives selections from every participant, and assigns scores to each<br>participant based upon their selections. Players get points for picking the<br>correct answer, and also if another player was fooled into picking their fake<br>suggestion instead of the correct answer. The game goes on until the server<br>runs out of words or the players decide to quit.<br>For this project, your assignment is to write a Java Swing GUI-based<br>application for the FoilMaker! Client. When running your program, you will<br>first start the Server program supplied to you. Each client that runs connects<br>to this server and follows the steps of the game outlined above. The<br>communication between the server and the client will follow a protocol that is<br>provided to you (described below). This protocol specifies the contents of the<br>messages between the clients and the servers.</p>
<h2 id="Client-Implementation"><a href="#Client-Implementation" class="headerlink" title="Client Implementation"></a>Client Implementation</h2><p>In this section we have an outline of wireframes for the client GUI and<br>corresponding commands in the protocol. You should use Java Swing API to<br>implement the GUI. You are strongly advised to structure the Client using the<br>Model-View-Controller pattern described in the Appendix.<br>The protocol has the following generic format.<br>The “-“ is used in this protocol to separate the various parts of each<br>message. The allowed values for the Command, and other tokens of these<br>messages are described below. The constants used in these message are defined<br>in the FoilMakerNetworkProtocol.java file.</p>
<h3 id="Register-New-User"><a href="#Register-New-User" class="headerlink" title="Register New User"></a>Register New User</h3><p>Users need to be registered with the server before they can play the game.<br>Once registered, the user credentials (i.e. username and password) are saved<br>by the server in the UserDatabase” file so that the details will not be lost<br>even if the server is restarted. The Username or Password cannot be empty. The<br>client should enable the user to enter a login and password which are then<br>sent to the server in a “CREATENEWUSER” message. Any error messages should be<br>displayed to the client. If the user creation is successful, an appropriate<br>message should be shown to the user.<br>Hint: you may want to Lookup the JTextField and JPasswordField classes.</p>
<h3 id="User-Login"><a href="#User-Login" class="headerlink" title="User Login"></a>User Login</h3><p>A registered user should log into the system before playing the game. The<br>client allows the user to enter a login name and password, which it sends to<br>the server using “LOGIN” message. Any error messages from the sever should be<br>displayed to the user. If the login is successful, the server will provide a<br>unique token (session cookie). The cookie is saved in the client and will be<br>sent in future messages to the server to show that the message is from a<br>logged-in client.</p>
<h3 id="Play-Game"><a href="#Play-Game" class="headerlink" title="Play Game"></a>Play Game</h3><p>Once a user logs into the system successfully she can either start a new game<br>or join an existing game.</p>
<h3 id="Start-a-New-Game"><a href="#Start-a-New-Game" class="headerlink" title="Start a New Game"></a>Start a New Game</h3><p>A user that starts a new game becomes the leader of that game session. The<br>user token field below is the session cookie for this user received when the<br>user logged in to the server. If successful in creating a new game, the server<br>will respond with the game token (three character string). This token should<br>be saved by the client and will be used in subsequent requests. The leader<br>view should now display this game token, and a list of participants that have<br>joined this game. The leader shares this token (outside the game) with any<br>other users that want to join the game.<br>The leader should wait for a fixed number of players (at least one other<br>player) to join before she starts the game. Once all the participants have<br>joined, the “Start Game” button on the leader’s view becomes enabled allowing<br>the leader to start the game. When a player joins the game, the leader is<br>informed by the server of the new participant in the game (see below). You<br>should update the leader’s view (see the figure above) as and when new players<br>join in. You may hardcode the numbers of players you would like to have in a<br>game.</p>
<h3 id="Join-a-Game"><a href="#Join-a-Game" class="headerlink" title="Join a Game"></a>Join a Game</h3><p>Player trying to join a game should wait for the leader to start the game. The<br>leader will share with each such player the game key either verbally, or<br>through some other means (text message, snapchat etc. - not using this game<br>itself). The clients sends a “JOINGAME” message to the server with the<br>player’s login token, and the game key. Any error messages should be displayed<br>to the user. If the joining is successful, the player’s view should change to<br>the view below indicating “Waiting for leader …”. This means that we are<br>waiting for the leader to launch the game. For each user that successfully<br>joins a game, the leader of the game receives a “NEWPARTICIPANT” message with<br>the name and score of the new user. This user should be added to the list of<br>participants in the leader’s view.</p>
<h3 id="Launch-Game"><a href="#Launch-Game" class="headerlink" title="Launch Game"></a>Launch Game</h3><p>When the leader is ready to start the game, she clicks on the “Start Game”<br>button. This causes the leader’s client to send a “ALLPARTICIPANTSHAVEJOINED”<br>message to the server. Any error messages from the server should be displayed<br>to the leader’s view.<br>When the server managed to launch the game successfully it will not send a<br>SUCCESS code in this case rather it will start the game.<br>The game consists of several rounds. Each round has the following Steps:</p>
<ul>
<li>The server sends the new description to each participant </li>
<li>Each participants displays the description and waits for its user to enter a suggested word for this description which is sent to the server </li>
<li>The server waits for a suggestion from each participant. Once they are all received, it adds the correct answer, scrambles the suggestions and the correct answer and sends them to each participant. </li>
<li>Each participant waits for the suggestions from the server, and then shows them to the user. Once the user picks a suggestion it is send to the server </li>
<li>The server waits for each participant to send its choice, then scores each participant and sends a message with all participant names and scores to each participant. After this it also sends to each player either the word for the next round in a “NEWWORD” message, or a “GAMEOVER” message when there are no more words. </li>
<li>Each participant displays the names and scores of each participant in the game and waits for the user to be ready to play the next round. When the player is ready, the client shows the word for the next round<br>Server sends the first round’s word, and the correct answer to each<br>participant’s client (so that the client application can prevent a user from<br>using it as a suggestion) according to the following format.<br>Each client receives this command from the server so that client application<br>can show it on its GUI as follows.</li>
</ul>
<h3 id="Send-Player’s-Suggestion"><a href="#Send-Player’s-Suggestion" class="headerlink" title="Send Player’s Suggestion"></a>Send Player’s Suggestion</h3><p>Each client can send her suggestion as follows.<br>Once the server receives suggestions from all the players it will send them<br>along with the correct answer to each client so that it can show them to the<br>user. The user is going to pick an answer from this list in the next step.<br>Furthermore if there are N players (including leader) in a session there will<br>be N + 1 answer options on this list.</p>
<h3 id="Send-Player’s-Choice"><a href="#Send-Player’s-Choice" class="headerlink" title="Send Player’s Choice"></a>Send Player’s Choice</h3><p>Once the user picks her choice you can send it to the server as follows. Once<br>the server receives all the answers and finishes processing them it will send<br>the results to each client as given in the next section.</p>
<h3 id="Receive-Results"><a href="#Receive-Results" class="headerlink" title="Receive Results"></a>Receive Results</h3><p>This is the format of the message that includes overall results of the game so<br>far.<br>Please note that each player is going to get the same message that includes<br>overall results of all the players. When you display results you can show the<br>message that is intended to a given player separately and overall results of<br>each play in tabular form (see below).</p>
<h3 id="Go-to-Next-Round"><a href="#Go-to-Next-Round" class="headerlink" title="Go to Next Round"></a>Go to Next Round</h3><p>The server sends next question (NEWGAMEWORD message) as soon as it has sent<br>results to all the clients (ROUNDRESULT command). So the clients don’t have to<br>send a special message to move on to the next round.<br>However the server sends GAMEOVER-command as it runs out of questions. Clients<br>can react to this command appropriately and quit. For instance disable the<br>“Next Round” button and set status message as follows.</p>
<h3 id="Quit-Game"><a href="#Quit-Game" class="headerlink" title="Quit Game"></a>Quit Game</h3><p>The client application should be able to quit the game whenever the user<br>wishes. You can either have a button to do that or just simply close the GUI.<br>When the client quits it should send LOGOUT-command to the server as follows.</p>
<h2 id="How-to-Run-the-Server"><a href="#How-to-Run-the-Server" class="headerlink" title="How to Run the Server"></a>How to Run the Server</h2><p>You can test your client application against the given server implementation.<br>Please make sure the given files, FoilMaker.student.jar, UserDatabase, and<br>WordleDeck reside in the same directory. The given user store (UserDatabase)<br>already includes 2 users (Alice and Bob). The wordle file includes one<br>question and answer. Run the following command in a terminal to launch the<br>server. Your clients will have to create network connections with this server<br>using the the port number that you specify below and the IP address of the<br>machine on which this server is run.<br>    java -jar FoilMaker.student.jar <port number></p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://saferman.github.io/2022/08/03/NetworkProgramming%E4%BB%A3%E5%86%99%EF%BC%9ACS369FoilMakerGameClient/">http://saferman.github.io/2022/08/03/NetworkProgramming%E4%BB%A3%E5%86%99%EF%BC%9ACS369FoilMakerGameClient/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Network-Programming%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">Network Programming代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/08/05/C%E4%BB%A3%E5%86%99%EF%BC%9ACS352Makefile/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="C代写：CS352Makefile">
                        
                        <span class="card-title">C代写：CS352Makefile</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-08-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/C%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">C代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/08/02/SQL%E4%BB%A3%E5%86%99%EF%BC%9ACMPT454QueryOptimization/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/10.jpg" class="responsive-img" alt="SQL代写：CMPT454QueryOptimization">
                        
                        <span class="card-title">SQL代写：CMPT454QueryOptimization</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-08-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/SQL%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">SQL代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
