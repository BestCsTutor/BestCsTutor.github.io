<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="C代写：COMS10016 List And Sketch, 留学生CS|辅导|代写">
    <meta name="description" content="使用Sentinel节点，构造实现  Doubly-Linked List
 .![Doubly-LinkedList](https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/D">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>C代写：COMS10016 List And Sketch | 留学生CS|辅导|代写</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">留学生CS|辅导|代写</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>辅导案例集合</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">留学生CS|辅导|代写</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			辅导案例集合
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/10.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">C代写：COMS10016 List And Sketch</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/C%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">C代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-08-31
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>使用Sentinel节点，构造实现 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Doubly_linked_list" title="Doubly-Linked List"> Doubly-Linked List
</a> .<br>![Doubly-Linked<br>List](<a target="_blank" rel="noopener" href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Doubly-linked-">https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Doubly-linked-</a><br>list.svg&#x2F;610px-Doubly-linked-list.svg.png)</p>
<h2 id="Requirement"><a href="#Requirement" class="headerlink" title="Requirement"></a>Requirement</h2><p>This resit coursework consists of two parts called LIST and SKETCH. The two<br>tasks align exactly with the two summative coursework tasks given in the<br>original unit. Respectively, the two parts contribute 40% and 60% towards the<br>resit coursework, which overall counts 50% towards the COMS10016 unit mark. If<br>you have a 2nd attempt resit then your mark will be kept at pass level. You<br>must work individually in any case. All code you submit must be your own, do<br>not copy any code parts from peers or other sources and do not publish parts<br>of your own code anywhere. The programs we use for checking against the web,<br>your peers and other sources are advanced. (Plagiarism may result in 0 marks<br>for the coursework, the entire unit, failing the year, or worse.) Use only<br>standard libraries as given in the skeleton code for this task, so your code<br>compiles and runs without linking any other libraries. Each of the two tasks<br>comes itself in two parts: a closed task and an open-ended task. Backup your<br>work regularly. Do not attempt any open-ended task before successfully and<br>fully finishing the closed tasks.</p>
<h2 id="List-Challenge"><a href="#List-Challenge" class="headerlink" title="List Challenge"></a>List Challenge</h2><h3 id="Step-1-Understand-Doubly-linked-Lists"><a href="#Step-1-Understand-Doubly-linked-Lists" class="headerlink" title="Step 1: Understand Doubly-linked Lists"></a>Step 1: Understand Doubly-linked Lists</h3><p>Before you start on this task make sure you watched all lectures up to Lecture<br>15. You should have compiled, run, and understood all the code provided for<br>pointers, dynamic data, stacks, and lists. In particular, be sure you you have<br>run, compiled and understood in detail the program linkedlist.c from Lecture<br>15.<br>Your task will evolve around doubly-linked lists with a sentinel node. Thus,<br>let us understand and visualise this concept first. In essence, a doubly-<br>linked list is made up of a sequence of nodes where neighbouring nodes point<br>to each other. Each node is a structure that has a payload item x (e.g. just<br>an int) and two pointers: back and next. The back pointer always points to the<br>predecessor node and the next pointer always points to the successor node. Two<br>neighbouring nodes in a doublylinked list can therefore be pictured like this.<br>This emphasizes that a node structure contains three fields. However, for most<br>purposes you can simplify the visualisation by depicting the above two nodes<br>like this.<br>In this simplified visualisation, a pointer from the left end of a node<br>represents its back pointer, and a pointer from the right end is its next<br>pointer. A pointer to anywhere on a node’s rectangle means a pointer to the<br>start of the node.<br>The Sentinel Node. It used to be a standard solution to implement doubly-<br>linked lists by keeping track of the first and last node of the list (like the<br>3 node and 7 node in the picture above), where the first node would point<br>backward to NULL, and the last node would point forward to NULL. However, it<br>turns out that adding an extra node, called a sentinel node, simplifies list<br>implementations and makes the code much more readable. For a circular, doubly-<br>linked list our sentinel node (pictured with no payload x) is linked in<br>between the first and last item in the list:<br>Using this idea, the nodes of a new ‘empty’ list with no item nodes look like<br>this.<br>Here both the back and next pointers of the sentinel node simply point to the<br>sentinel node itself.<br>The Structure list. To represent a list in a list data structure we need two<br>node pointers: one fixed pointer to the sentinel node (called none) to access<br>both list ends in constant time, and one current pointer that points to a<br>current node in the list allowing for traversals.<br>In the above image the current position is the node that holds 7, so item 7 is<br>selected. If the current pointer in a list points to none then we will<br>interpret this as ‘no item is selected’.<br>If there are item nodes in our list, none-&gt;next should link to the first item,<br>and none-&gt;back should link to the last item. So we get simple access to both<br>ends of the list and we do not need to store pointers to the first or last<br>node anywhere else.<br>Picturing List Manipulations. To visualize what a function does to a list,<br>draw a picture of the situation before the function call, and another of the<br>situation after the call. For instance, consider the function after. If an<br>item is selected it moves the current pointer one element forward. When<br>applying the function to our list with the item 3 selected, it would have the<br>simple effect of moving the current pointer one step forward to item 7.<br>Applying the after function to our list when the item 7 is selected moves the<br>current pointer one step forward to the sentinel node, meaning ‘no item’ is<br>selected after the call.<br>Thus, whenever in doubt, draw a picture of a particular situation before and<br>after a function call to understand the detailed workings.</p>
<h3 id="Step-2-Understand-the-Closed-Task-50-of-1st-Task"><a href="#Step-2-Understand-the-Closed-Task-50-of-1st-Task" class="headerlink" title="Step 2: Understand the Closed Task (50% of 1st Task)"></a>Step 2: Understand the Closed Task (50% of 1st Task)</h3><p>Your closed task is to implement 13 missing procedures in the skeleton file<br>list.c all of which manipulate circular doublylinked lists with one sentinel<br>node. You must use the provided files and are not allowed to alter any of the<br>provided code, only add the 13 missing functions where marked:</p>
<ul>
<li>list.h (header file) </li>
<li>list.c (skeleton) </li>
<li>Makefile<br>The header file lists.h forms an API, which you should read carefully because<br>the comments describe what the functions you will have to implement in list.c<br>have to do. The list.c file has just two data structures node and list which<br>you must use, and a lot of tests. The program as given to you will not compile<br>initially. So, our first task is to produce a compiling skeleton by studying<br>the signatures of the 13 missing procedures and accordingly defining some<br>initial dummy functions.</li>
</ul>
<h3 id="Step-3-Create-a-Compiling-Skeleton"><a href="#Step-3-Create-a-Compiling-Skeleton" class="headerlink" title="Step 3: Create a Compiling Skeleton"></a>Step 3: Create a Compiling Skeleton</h3><p>Your first task is to turn lists.c into a full skeleton program that compiles.<br>You can do this without understanding all of the technicalities of the<br>assignment.<br>Two Key Data Structures. In the file lists.c a structure for the nodes which<br>make up the list is defined which make up the list is defined, and a structure<br>for the list itself. The node structure struct node is not visible to the user<br>of the module. Each node is used to hold an item x and pointers to the two<br>neighbouring nodes (next and back) which define the list ordering. The overall<br>list structure struct list represents a list and is essential so that your<br>newList function can return something to the user which is well defined. This<br>structure holds two pointers: one to the sentinel node of the list and one to<br>the currently selected node. Read the code comments about the list structure<br>carefully. You will have to use the two data structures exactly as described<br>to comply with the tests.<br>Define Dummy Functions. Write a minimal dummy definition of each of the 13<br>functions mentioned in the header file. The safest way to do that is to copy-<br>and-paste a function’s declaration from lists.h, then replace the semicolon by<br>curly brackets. If the function returns anything other than void, add a return<br>statement which returns the easiest temporary value of that type you can think<br>of (e.g. NULL for a pointer, false for a boolean). For functions returning an<br>item, you can return 0 for now, but beware that depends on item being int, so<br>it may need to be fixed later. At this point, check that the program compiles<br>fine via make test or directly via:<br>    clang -Dtest_list -std&#x3D;c11 -Wall -pedantic -g list.c -o list fsanitize&#x3D;undefined -fsanitize&#x3D;address<br>Pay attention to use the exact line for compilation, including that the<br>parameter -Dtest_list must be used to run the tests.</p>
<h3 id="Step-4-Understand-the-Tests"><a href="#Step-4-Understand-the-Tests" class="headerlink" title="Step 4: Understand the Tests"></a>Step 4: Understand the Tests</h3><p>There is a separate test function in lists.h for each of the 13 list functions<br>you need to implement, except for freeList which can’t be tested directly. The<br>tests specify each function using before and after pictograms compressed into<br>strings. Single digits represent items and the ‘|’ symbol in front of a digit<br>indicates that this is the current item. If the ‘|’ symbol is at the end of<br>the string then ‘none’ of the items is selected. The strings “|37”, “3|7”,<br>“37|” represent a list of two items, with the current position at the first<br>item, the last item, and a situation where ‘none’ of the items is selected.<br>The tests utilise this pictogram string notation to drive the testing. For<br>example, the one-line test for applying the after function when item 3 is<br>selected in our example list will be encoded as:<br>assert(<strong>LINE</strong>, check(After, -1, “|37”, “3|7”, true));  </p>
<p>—|—<br>The one-line test for inserting 5 when the current item is 3 in our example<br>list using the insertAfter function is:<br>assert(<strong>LINE</strong>, check(InsertAfter, 5, “|37”, “3|57”));  </p>
<p>—|—<br>There is a different check function for each function type. The check function<br>builds a list matching the before picture, calls the given function (in this<br>case insertAfter with 5 as the second argument) and compares the result to the<br>after picture.<br>Checks and Default. Most functions are designed to return a testable value.<br>For example, if no item is selected, a call of after does nothing and returns<br>false, which is easy to test. The get function returns an item in any case. To<br>make sure there is an item which can be returned in any case, the newList<br>function is passed a default item. The default item should be stored in the<br>sentinel node.<br>Function Descriptions. What does each function do? There is a detailed comment<br>for each function in the list.h header which gives a summary. For each<br>function, there is a test function with some assert calls. These show<br>precisely what the function does on the empty list “|” and a list with two<br>items in at least each of the three cases “|37” and “3|7” and “37|”. That<br>should be enough for you to work out what the function does in every possible<br>case.<br>Details on Support Functions. The functions build, destroy and match form the<br>heart of the testing and are implemented ‘brute force’. The build function is<br>used to build a list from the ‘before’ picture of a test, the function being<br>tested is applied to the list, match is used to check that the result list<br>matches the ‘after’ picture, and destroy frees up the list. Each of the<br>functions uses an array of nodes in a very direct manner, so there is no<br>ambiguity about what is going on. But that is not a technique you are supposed<br>to be using in the list functions, because all of your 13 functions must take<br>O(1) constant time.<br>The style of testing set up here is very carefully designed to allow you to<br>work on one list function at a time.</p>
<h3 id="Step-5-Write-the-13-Functions-One-by-One"><a href="#Step-5-Write-the-13-Functions-One-by-One" class="headerlink" title="Step 5: Write the 13 Functions One by One"></a>Step 5: Write the 13 Functions One by One</h3><p>Programming with pointers is difficult. When a test fails, there is generally<br>a segfault or similar, which can be very difficult to track down. You will<br>need to use several or maybe all of:</p>
<ul>
<li>the warning options -Wall -pedantic </li>
<li>the sanitize options to pinpoint segfaults and memory leaks </li>
<li>print statements<br>Develop newList. The first thing to do is to comment out all the tests except<br>testNewList in main. After that, keep all the tests beyond the one you are<br>working on commented out. That’s because if a test fails, causing a segfault,<br>it may be unreasonably difficult to know which test function caused it.<br>Develop newList until it passes its test, and you don’t get any messages from<br>the various compiler options. In newList you will essentially have to allocate<br>memory on the heap for a new list structure and a new sentinal node,<br>initialise the sentinal node with the default item, let the current and none<br>pointers in the list point to the sentinel node, and link the two pointers in<br>the sentinel node point to the sentinal node itself.<br>Develop freeList. For all the functions, the compiler options test things that<br>the tests themselves can’t. In the case of freeList, there is no explicit<br>testing that can be done. Therefore the only testing is that memory leak<br>detection does not give any messages. Your freeList procedure should first<br>free all nodes of the list including the sentinel node and finally free the<br>list structure itself.<br>Develop in Small Steps. You may want to stick to the development sequence<br>given by the test sequence for the functions. Thus, step by step uncomment the<br>call to its testing function first, develop and test. Remember, the more<br>exceptions and different cases your code handles, the more liable it is to<br>have bugs in, because there are more places for bugs to hide, and it is harder<br>for you to see at a glance that the code is correct. You aren’t being given<br>much opportunity for making your own implementation decisions in this closed<br>part of the assignment. That simplifies checking correctness, and allows us to<br>help you more easily. It is very tempting to write lines of code like this,<br>with lots of arrows:<br>current-&gt;back-&gt;next-&gt;…<br>—|—</li>
</ul>
<p>The trouble is, this is very error-prone. The code may be written with a<br>mental picture of where the nodes were at the start of the function, but one<br>or more of the pointers used in the expression may have been changed already<br>by the time this line is executed. Trouble can arise particularly when<br>shuffling lines of code around. A line of code that used to work may suddenly<br>no longer work. And it is possible to ‘lose’ a node altogether, because there<br>are no pointers left pointing to it, and therefore no way to reach it.<br>Use Robust Strategies. In this assignment, the insert and delete functions are<br>the most difficult ones. They involve handling three nodes, either a new<br>‘middle’ node being inserted between (up to) two existing ones, or one<br>existing node being deleted and its (up to) two neighbours being linked up<br>together to close the gap in the circular list. A good strategy is to set up<br>three local pointer variables (e.g. p, q and r or whatever you like) for these<br>three nodes at the beginning of a function, so that you can keep track of them<br>no matter what changes are made to the pointers between them. Each line of<br>code after that can then be written simply using only one arrow, and the order<br>in which the lines of code are executed doen’t matter, making the code much<br>more robust.<br>Enjoy programming and make sure your code adheres to the C Programming Style<br>Guide! As always use the labs and the Teams chat for help and feedback<br>throughout the two weeks. Once your program compiles and runs without errors<br>and warnings, and passes all the tests you will have gained the first 50% of<br>this coursework’s marks. Everybody should work hard to get to this point.</p>
<h3 id="Step-6-Notes-on-the-Design"><a href="#Step-6-Notes-on-the-Design" class="headerlink" title="Step 6: Notes on the Design"></a>Step 6: Notes on the Design</h3><p>A List of Items. The header is set up to store item values in lists. In the<br>header item is defined as int to provide an example case. However, item must<br>be used as a synonym for int everywhere in your code, so that there is only<br>one place in the header file where a change would need to be made to store<br>some other type of items. This means the module can be used with different<br>item types in different programs. For those who are interested, note that even<br>this it is not truly generic since the setup cannot be used multiple times for<br>different item types in the same program. There is no really satisfying way of<br>making fully generic modules in C. It is recommended, as a last test before<br>submitting, that you change the item type to double, to check that you haven’t<br>inadvertently assumed int anywhere. (The numbers used in the tests should<br>still work as doubles.)<br>Conceptual Design. The header doesn’t say that the list is to be doubly<br>linked, nor to be circular, or use a sentinel node (comments in list.c do<br>though). That’s because a user of the module need not know or care, and the<br>implementation could be changed to something completely different in a later<br>version of the module, without any effect on programs that use it. On the<br>other hand, the header does say that all the operations are constant time.<br>This is a strong hint that the implementation does use a doubly linked list or<br>something similar, because it is difficult to achieve constant time operations<br>otherwise. The claim of constant time doesn’t cover the vagueness in the time<br>taken by malloc and free calls but, conventionally, memory management costs<br>are considered separately from the ‘logic’ costs of operations. The function<br>names use the camelCase convention, where capitals make the letters go up and<br>down like the humps on a Bactrian camel. I should point out, for those who are<br>interested, that including a current position in a list structure itself is<br>not thread safe. A more thread-safe approach is to create a separate iterator<br>object each time the list is traversed. However, that approach can still<br>easily lead to ‘concurrent modification’ problems where the list structure is<br>changed by one thread while another is traversing it. It is much safer to make<br>sure that a list is owned by a single thread. You will also have noticed that<br>we have to compile our list.c program with the -Dtest_list flag to enable the<br>tests. As you will learn in later lectures, if we don’t use this flag then, in<br>our case, we compile our program as a module without a main function and the<br>tests. The program then seizes to be a stand-alone program, but instead can<br>become part of another program that just uses its functionality.</p>
<h3 id="Step-7-The-Open-ended-Task"><a href="#Step-7-The-Open-ended-Task" class="headerlink" title="Step 7: The Open-ended Task"></a>Step 7: The Open-ended Task</h3><p>Only if both your closed tasks are finished and you have time left, then you<br>can do some extra open-ended work in your own program called visualise.c on<br>the following problem: Using only standard libraries, if any, write a program<br>that visualises the bit structure of data types in C in binary when entered in<br>decimal form. The program must take 1) a type, and 2) particular data of this<br>type in decimal notation as command line arguments. It should check for input<br>errors (and print “Input error.” in this case), and if there are none, it<br>should print the bit structure of the data in groups of a nibble, e.g.:<br>    .&#x2F;visualise char 7<br>    0000 0111<br>    .&#x2F;visualise char -128<br>    1000 0000<br>    .&#x2F;visualise char 255<br>    Input error.<br>    .&#x2F;visualise char 08<br>    Input error.<br>    .&#x2F;visualise char -x0<br>    Input error.<br>We recommend to keep things relatively simple at first, for instance, by<br>starting with investigating just char. The knowledge you already gained in<br>computer architecture may be handy.<br>Most importantly for this unit, your program should contain detailed unit<br>tests for all functions which are run if no command line parameters are<br>provided:<br>    .&#x2F;visualise<br>    All tests pass.<br>If you have time left, follow up with visualising the bit structure of<br>unsigned char, int, unsigned int, long, and double, e.g.:<br>    .&#x2F;visualise unsigned char 255<br>    1111 1111<br>    .&#x2F;visualise int 10000000<br>    0000 0000 1001 1000 1001 0110 1000 0000<br>    .&#x2F;visualise double -1.25<br>    1011 1111 1111 0100 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000<br>You may need to do some research into interpreting the bit structure of<br>floating point representations if you attempt to look into double. If you<br>still have time left after that, extend your program so that it shows the<br>decimal value of data types in C when entered in binary form in groups of<br>nibbles, e.g.:<br>    .&#x2F;visualise char 1000 0000<br>    -128<br>    .&#x2F;visualise unsigned char 0000 0111<br>    .&#x2F;visualise int 0000 0000 1001 1000 1001 0110 1000 000<br>    Input error.<br>    .&#x2F;visualise double 1011 1111 1111 0100 0000 0000 0000 0000 0000 0000 0<br>    -1.25<br>Note that it is always clear from the structure of your input if you are<br>converting to decimal or to binary since binary input has leading zeros and<br>comes in chunks of a nibble.<br>You can extend your program further (keeping all previous functionality<br>intact) by allowing for structured input using semicolon separated and {}<br>enclosed types such as:<br>    .&#x2F;visualise {char;int;unsigned char} 7 10000000 255<br>    0000 0111 0000 0000 1001 1000 1001 0110 1000 0000 1111 1111<br>    .&#x2F;visualise {char;int;unsigned char} 0000 0111 0000 0000 1001 1000 1<br>    7 10000000 255<br>Your source file visualise.c must compile error-free and warning-free for a<br>valid submission in any case. Your program MUST comply exactly with the<br>specified format for input and output. You are encouraged to write a summary<br>file readme.txt which describes what your program can do in no more than 100<br>words (strict limit). There are no marks for report writing, but the summary<br>may be necessary for us to make sense of your program. As long as your program<br>works, even if your program is very basic (e.g. just checks for char that some<br>the input char is valid), still submit it. Whenever you have reached a well<br>working version, take a copy of your work, so you can revert back to it at any<br>point. Rather submit something simple that works bug-free and is well tested<br>than something that contains bugs - you will not get many marks for buggy<br>code.<br>Be careful not to over spend on time, since the task is completely open-ended.<br>Make sure you manage your time well and stop at an appropriate point. Make<br>sure your programming adheres to the C Programming Style Guide. Enjoy<br>programming!</p>
<h2 id="Sketch-Challenge"><a href="#Sketch-Challenge" class="headerlink" title="Sketch Challenge"></a>Sketch Challenge</h2><h3 id="Step-8-Sketch-File-Formats-and-Skeleton-Code"><a href="#Step-8-Sketch-File-Formats-and-Skeleton-Code" class="headerlink" title="Step 8: Sketch File Formats and Skeleton Code"></a>Step 8: Sketch File Formats and Skeleton Code</h3><p>Make sure you completed all lectures and formative courseworks of the original<br>unit COMS10016 Imperative Programming thread before starting this task. A<br>Sketch File with the extension (.sk) is a simple binary file that contains a<br>drawing or graphic. There is a basic, intermediate, and advanced version of<br>the file format, each of which is backwards-compatible to include all simpler<br>formats as subsets of the functionality. The formats have been designed to<br>store simple freehand sketches and more complex graphics, even animations in<br>one compact file, in such a way that these can be viewed or replayed as an<br>animation.<br>Your task will be to develop a program sketch.c which reads in and visualises<br>.sk files using the display module displayfull.h for graphics, a module nearly<br>identical to the one covered in last week’s formative exercise. You are not<br>allowed to change the display module, testing module, nor the function parts<br>and data structures already provided in the sketch skeleton and header. You<br>are of course allowed to implement functions and add anything you would like<br>to the sketch.c file.<br>You are given the following files and modules to start your development:</p>
<ul>
<li>sketch.zip (All Files in one Zip) </li>
<li>sketch.h (skeleton header) </li>
<li>sketch.c (skeleton) </li>
<li>Makefile (basic Makefile for Unix only) </li>
<li>displayfull.h (display header) </li>
<li>displayfull.c (display module) </li>
<li>test.c (testing framework) </li>
<li>sketch00.sk, sketch01.sk, sketch02.sk, sketch03.sk, sketch04.sk, sketch05.sk, sketch06.sk, sketch07.sk, sketch08.sk, sketch09.sk<br>As you see, this assignment is going to involve lots of files. It is suggested<br>that you create a new empty folder to work in and extract all files contained<br>in the sketch.zip file into it before you start work. Make sure that the<br>folder permissions are set to owner read only if you work on university<br>computers to make sure nobody else can access your work. Back up your work<br>regularly in any case, since data loss is not a valid extenuating<br>circumstance.</li>
</ul>
<h3 id="Step-9-Understanding-the-Basic-Sketch-File-Format"><a href="#Step-9-Understanding-the-Basic-Sketch-File-Format" class="headerlink" title="Step 9: Understanding the Basic Sketch File Format"></a>Step 9: Understanding the Basic Sketch File Format</h3><p>A Basic Sketch File contains a picture made up of white lines drawn on a black<br>background. For simplicity we will stick with a fixed image size of exactly<br>200x200 pixels for this assignment. Sketch files are encoded as a sequence of<br>single-byte commands, which your program will have to translate into calls to<br>the display module. During drawing a basic sketch file, your program will have<br>to keep track of a current drawing state, which is a data structure defined in<br>sketch.h. This contains the current pixel location (x,y) in the window (which<br>must be initialised as location (0,0) at the beginning of reading a sketch<br>file), a pixel target location (tx,ty) (which must be initialised as (0,0) at<br>the beginning of reading a sketch file), and the currently set tool type<br>(which is initialised as LINE at the beginning of reading a sketch file). The<br>other fields are not used by basic sketch files and should just be initialised<br>to 0. For basic sketch files there are three possible single-byte commands:<br>TOOL to switch active line drawing on or off, DX to move horizontally, and DY<br>to move vertically and draw a line from current to target position if the tool<br>is switched on. Two most significant bits of every command byte determine the<br>opcode (i.e. which of the three commands to do) and the remaining six bits<br>determine the operand (i.e. what data to do it with):</p>
<ul>
<li>TOOL.. If the two most significant bits (or opcode) of a command byte are 1 (most significant bit) and 0, respectively, then the command is interpreted as the TOOL command. This command selects a tool and uses the remaining 6 bits as an unsigned integer operand, which indicates the type of tool. For a Basic Sketch File the tool type can either be NONE &#x3D; 0 (switching all drawing off) or LINE &#x3D; 1 (switching line drawing on). </li>
<li>DX….If the two most significant bits of a command byte are both 0 then the command is interpreted as the DX command, that shifts the position of the target location (tx,ty) along the x direction by dx pixels. The operand dx is specified between -32 and 31 encoded as a twocomplement integer via the remaining 6 bits of the command byte. </li>
<li>DY….If the two most significant bits of a command byte are 0 (most significant bit) and 1, respectively, then the command is interpreted as the DY opcode, that is shifting the position of the target location (tx,ty) along the y direction by dy pixels. Then, and only if line drawing is switched on, a line is drawn from the current location (x,y) to the target location (tx,ty). Finally, the current location is set to the target location in any case. (If line drawing is switched off then nothing is drawn, but the current location is still changed to the target location) Note that dy is a value between -32 and 31 encoded as a two-complement integer via the remaining 6 bits of the byte.</li>
</ul>
<h3 id="EXAMPLE-FILE"><a href="#EXAMPLE-FILE" class="headerlink" title="EXAMPLE FILE"></a>EXAMPLE FILE</h3><p>Lets have a look at a very simple sketch file sketch00.sk. Since the .sk files<br>are binary, you can’t view them in a text editor like atom easily. You can<br>view the files with the od command in Linux though or use your own HEX viewer<br>developed during formative work last week. To see what the bytes of a sketch<br>file look like use the od command, e.g.:<br>    od -t x1 sketch00.sk<br>    0000000 1e 5e<br>A number on the first column like 0000000 says what byte position in the<br>binary file the line of output refers to, which is useful for larger files.<br>The rest of the line shows you the bytes in HEX, that is two paired<br>hexadecimal digits for each byte. We can see that the sketch00.sk file<br>contains just two bytes, ‘1e’ and ‘5e’. Each of these represents a single-byte<br>command.<br>Since each hexadecimal digit represents a four bit nibble, the first byte ‘1e’<br>translates to binary ‘0001 1110’ and the second byte ‘5e’ translates to binary<br>‘0101 1110’. Looking at the two most significant bits (left two bits) tells us<br>which command it is, i.e. which opcode. The first byte starts with ‘00’ and<br>thus is the DX command, the second byte starts with ‘01’ and thus is the DY<br>command.<br>The remaining rightmost six bits represent the operands for each of these<br>commands encoded as two-complement representation, in both cases these are<br>‘011110’ which represents +30. If needed, review Bits Lecture at this point<br>and remember that the leftmost of the six bits is indicative of the sign. Note<br>that only 6 bits are used to represent the operand, not 8, so operands between<br>-32 and 31 can be encoded. Thus, the sketch00.sk file has the commands ‘DX+30’<br>and ‘DY+30’. Given that (x,y) and (tx,ty) are initialised as (0,0) this<br>command will first shift tx to 30, then shift ty to 30 and draw a line from<br>(0,0) to (30,30), and finally set (x,y) to (30,30). The pictures that should<br>be drawn for the five basic sketch files are shown below.</p>
<h3 id="Step-10-Understanding-the-Skeleton-Code"><a href="#Step-10-Understanding-the-Skeleton-Code" class="headerlink" title="Step 10: Understanding the Skeleton Code"></a>Step 10: Understanding the Skeleton Code</h3><p>COMPILING, RUNNING AND TESTING YOUR CODE: In order to compile and run the<br>provided skeleton files with graphics use:<br>    clang -std&#x3D;c11 -Wall -pedantic -g sketch.c displayfull.c I&#x2F;usr&#x2F;include&#x2F;SDL2 -lSDL2 -o sketch -fsanitize&#x3D;undefined fsanitize&#x3D;address fsanitize&#x3D;address<br>After this you can run the program on a sketch file like:<br>    .&#x2F;sketch sketch00.sk<br>This will at the moment just show an empty 200x200 black display window, since<br>no drawing functionality has been implemented. You can close the window via<br>the clicking on the ‘x’ or pressing ESC. Note that on some systems SDL2<br>produces memory leaks - we will have to accept this and as long as your<br>program does not leak during testing you will not loose marks for these leaks<br>of course.<br>You can, however, test your program even without having graphics fully<br>installed. To do this, compile and run the provided skeleton files as follows:<br>    clang -DTESTING -std&#x3D;c11 -Wall -pedantic -g sketch.c test.c I&#x2F;usr&#x2F;include&#x2F;SDL2 -o test -fsanitize&#x3D;undefined -fsanitize&#x3D;address<br>After this you can test your program (which requires all the 10 sketch files<br>for testing to be in your local folder):<br>    .&#x2F;test<br>We will use exactly the commands above to test your code (with our fresh<br>test.c copy), so do not add any further -D macro definitions to your<br>compilation commands. Currently testing fails, of course. Testing will tell<br>you either which line of tests in the test.c program fails or which drawing<br>command that should be done by a sketch file was not correctly called by your<br>program. (To do that, the testing module ‘plays’ the role of the graphics<br>module and checks all the graphics calls made against the deterministic<br>sequence of calls that must be made for each of the sketch files.<br>Intercepting, replacing or forwarding calls of a software component is known<br>as a ‘proxy’.</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://saferman.github.io/2021/08/31/C%E4%BB%A3%E5%86%99%EF%BC%9ACOMS10016ListAndSketch/">http://saferman.github.io/2021/08/31/C%E4%BB%A3%E5%86%99%EF%BC%9ACOMS10016ListAndSketch/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/C%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">C代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/08/31/C%E4%BB%A3%E5%86%99%EF%BC%9ACIS2750LinkedList/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="C代写：CIS2750 LinkedList">
                        
                        <span class="card-title">C代写：CIS2750 LinkedList</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-08-31
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/C%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">C代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/08/31/Python%E4%BB%A3%E5%86%99%EF%BC%9ACS7638ProblemSet/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="Python代写：CS7638 Problem Set">
                        
                        <span class="card-title">Python代写：CS7638 Problem Set</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-08-31
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">Python代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
