<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python代写：CSC148HBlocky, 留学生CS|辅导|代写">
    <meta name="description" content="练习Python中Tree的用法，做一个  Blocky  的应用程序。![Blocky](https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Toyblocks.JPG/22">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python代写：CSC148HBlocky | 留学生CS|辅导|代写</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">留学生CS|辅导|代写</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>辅导案例集合</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">留学生CS|辅导|代写</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			辅导案例集合
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/22.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python代写：CSC148HBlocky</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">Python代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-03-30
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>练习Python中Tree的用法，做一个 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Toy_block" title="Blocky"> Blocky </a> 的应用程序。<br>![Blocky](<a target="_blank" rel="noopener" href="https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Toyblocks.JPG/220px-">https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Toyblocks.JPG/220px-</a><br>Toyblocks.JPG)</p>
<h2 id="Learning-goals"><a href="#Learning-goals" class="headerlink" title="Learning goals"></a>Learning goals</h2><p>By the end of this assignment, you should be able to:</p>
<ul>
<li>model hierarchical data using trees </li>
<li>implement recursive operations on trees (both non-mutating and mutating) </li>
<li>convert a tree into a flat, two-dimensional structure </li>
<li>use inheritance to design classes according to a common interface</li>
</ul>
<h2 id="Coding-Guidelines"><a href="#Coding-Guidelines" class="headerlink" title="Coding Guidelines"></a>Coding Guidelines</h2><p>These guidelines are designed to help you write well-designed code that will<br>adhere to the interfaces we have defined (and thus will be able to pass our<br>test cases).<br>You must:</p>
<ul>
<li>write each method in such a way that the docstrings you have been given in the starter code accurately describe the body of the method. </li>
<li>avoid writing duplicate code. </li>
<li>write a docstring for any class, function, or method that lacks one.<br>You must NOT:</li>
<li>change the parameters, parameter type annotations, or return types in any of the methods or function you have been given in the starter code. </li>
<li>add or remove any parameters in any of the methods you have been given in the starter code. </li>
<li>change the type annotations of any public or private attributes you have been given in the starter code. </li>
<li>create any new public attributes. </li>
<li>create any new public methods. </li>
<li>write a method or function that mutates an object if the docstring doesn’t that it will be mutated. </li>
<li>add any more import statements to your code, except for imports from the typing module.<br>You may find it helpful to:</li>
<li>create new private helper methods or functions for the classes you have been given. <ul>
<li>if you create new private methods or functions you must provide type annotations for every parameter and return value. You must also write a full docstring for this method as described in the function design recipe</li>
</ul>
</li>
<li>create new private attributes for the classes you have been given. <ul>
<li>if you create new private attributes you must give them a type annotation and include a description of them in the class’s docstring as described in the class design recipe</li>
</ul>
</li>
<li>import more objects from the typing module </li>
<li>override the inherited version of the <strong>eq</strong> special method in some cases (this is not the same as creating a new public method).<br>While writing your code you can assume that all arguments passed to the<br>methods and functions you have been given in the starter code will respect the<br>preconditions and type annotations outlined in the methods’ docstrings.</li>
</ul>
<h2 id="Introduction-the-Blocky-game"><a href="#Introduction-the-Blocky-game" class="headerlink" title="Introduction: the Blocky game"></a>Introduction: the Blocky game</h2><p>Blocky is a game with simple moves on a simple structure. But, like a Rubik’s<br>Cube, it is quite challenging to play. The game is played on a randomly-<br>generated game board made of squares of four different colours.<br>Each player has their own goal that they are working towards, such as creating<br>the largest connected “blob” of blue. After each move, the player sees their<br>score, which is determined by how well they have achieved their goal and which<br>moves they have made. The game continues for a certain number of turns, and<br>the player with the highest score at the end is the winner. Next, let’s look<br>in more detail at the rules of the game and the different ways it can be<br>configured for play.</p>
<h2 id="The-Blocky-board-and-terminology"><a href="#The-Blocky-board-and-terminology" class="headerlink" title="The Blocky board and terminology"></a>The Blocky board and terminology</h2><p>We call the game board a ‘block’, which is best defined recursively. A block<br>is either:</p>
<ul>
<li>a square of one colour, or </li>
<li>a square that is subdivided into 4 equal-sized blocks.<br>The largest block of all, containing the whole structure, is called the top-<br>level block. We say that the top-level block is at level 0. If the top-level<br>block is subdivided, we say that its four sub-blocks are at level 1. More<br>generally, if a block at level k is subdivided, its four sub-blocks are at<br>level k+1.<br>A Blocky board has a maximum allowed depth, which is the number of levels down<br>it can go. A board with maximum allowed depth 0 would not be fun to play on -<br>it couldn’t be subdivided beyond the top level, meaning that it would be of<br>one solid colour. This board was generated with maximum depth of 5:<br>For scoring, the units of measure are squares the size of the blocks at the<br>maximum allowed depth. We will call these blocks unit cells.</li>
</ul>
<h2 id="Actions-and-Moves"><a href="#Actions-and-Moves" class="headerlink" title="Actions and Moves"></a>Actions and Moves</h2><p>A number of actions can be performed in Blocky. A move is an action that is<br>performed on a specific block. The actions are:</p>
<ol>
<li>Rotate clockwise </li>
<li>Rotate counterclockwise 3. Swap Horizontally </li>
<li>Swap Vertically </li>
<li>Smash </li>
<li>Paint </li>
<li>Combine </li>
<li>Pass<br>The Smash action can only be performed on blocks with no children. If a block<br>is smashed, then it is sub-divided into four new, randomly-generated sub-<br>blocks. Smashing a unit cell is also not allowed (it is already at the maximum<br>depth).<br>The Paint action sets a block’s colour to a new, specified colour. It can only<br>be performed on unit cells.<br>The Combine action turns a block into a leaf based on the majority colour of<br>its children. It can only be performed on a block that is subdivided and whose<br>children are at the maximum depth. If there is a majority colour among the<br>four children, then the children are discarded and the block has the majority<br>colour. A majority colour means that one colour is the majority amongst all<br>children; a tie does not constitute a majority.<br>The Pass action does not mutate the block. It can be used by a player who<br>wishes to skip their turn.</li>
</ol>
<h2 id="Choosing-a-block-and-levels"><a href="#Choosing-a-block-and-levels" class="headerlink" title="Choosing a block and levels"></a>Choosing a block and levels</h2><p>What makes moves interesting is that they can be applied to any block at any<br>level. For example, if the user selects the entire top-level block for this<br>board: and chooses to rotate it counter-clockwise, the resulting board is<br>this.<br>But if instead, on the original board, they rotated the block at level 1 (one<br>level down from the top-level block) in the upper left-hand corner, the<br>resulting board is this:<br>And if instead they were to rotate the block a further level down, still<br>sticking in the upper-left corner, they would get this.<br>Of course there are many other blocks within the board at various levels that<br>the player could have chosen.</p>
<h2 id="Players"><a href="#Players" class="headerlink" title="Players"></a>Players</h2><p>The game can be played solitaire (with a single player) or with two to four<br>players. There are three kinds of players:</p>
<ol>
<li>A human player chooses moves based on user input. </li>
<li>A random player is a computer player that, as the name implies, chooses moves randomly. </li>
<li>A smart player is a computer player that chooses moves more intelligently: It generates a set of random moves and, for each move, checks what its score would be if it were to make that move. Then it picks the one that yields the best score.</li>
</ol>
<h2 id="Goals-and-scoring"><a href="#Goals-and-scoring" class="headerlink" title="Goals and scoring"></a>Goals and scoring</h2><p>At the beginning of the game, each player is assigned a randomly-generated<br>goal. There are two types of goal:</p>
<ol>
<li>Blob goal.<br>The player must aim for the largest “blob” of a given colour c. A blob is a<br>group of connected same colour. Two blocks are connected if their sides touch;<br>touching corners doesn’t count. The player’s score is the number of unit cells<br>in the largest blob of colour c.</li>
<li>Perimeter goal.<br>The player must aim to put the most possible units of a given colour c on the<br>outer perimeter of the board. The player’s score is the total number of unit<br>cells of colour c that are on the perimeter. There is a premium on corner<br>cells: they count twice towards the score.<br>Notice that both goals are relative to a particular colour. We will call that<br>the target colour for the goal.<br>In addition to the points gained by the player from achieving their goal, a<br>player can also lose points based on the actions they perform.</li>
</ol>
<ul>
<li>Rotating, Swapping, and Passing cost 0 points. </li>
<li>Painting and Combining cost 1 point each time they are performed. </li>
<li>Smashing costs 3 points each time it is performed.</li>
</ul>
<h2 id="Congurations-of-the-game"><a href="#Congurations-of-the-game" class="headerlink" title="Congurations of the game"></a>Congurations of the game</h2><p>A Blocky game can be configured in several ways:</p>
<ul>
<li>Maximum allowed depth.<br>While the specific colour pattern for the board is randomly generated, we<br>control how finely subdivided the squares can be.</li>
<li>Number and type of players.<br>There can be any number of players of each type. The “difficulty” of a smart<br>player (how hard it is to play against) can also be configured.</li>
<li>Number of moves.<br>A game can be configured to run for any desired number of moves. (A game will<br>end early if any player closes the game window.)</li>
</ul>
<h2 id="Setup-and-starter-code"><a href="#Setup-and-starter-code" class="headerlink" title="Setup and starter code"></a>Setup and starter code</h2><ol>
<li>Download the zip file that contains the starter code here a2.zip. </li>
<li>Unzip the file and place the contents in pycharm in your a2 folder (remember to set your a2 folder as a sources root) </li>
<li>You should see the following files and directories:<br>* actions.py<br>* block.py<br>* blocky.py<br>* game.py<br>* goal.py<br>* player.py<br>* renderer.py<br>* settings.py<br>* example_tests.py</li>
</ol>
<h2 id="Task-1-Understand-the-Block-data-structure"><a href="#Task-1-Understand-the-Block-data-structure" class="headerlink" title="Task 1: Understand the Block data structure"></a>Task 1: Understand the Block data structure</h2><p>Surprise, surprise: we will use a tree to represent the nested structure of a<br>block. Our trees will have some very strong restrictions on their structure<br>and contents, however. For example, a node cannot have 3 children. This is<br>because a block is either solid-coloured or subdivided. If it is solid-<br>coloured, it is represented by a node with no children. If it is subdivided,<br>it is subdivided into exactly four sublocks. Representation invariants<br>document this rule and several other critically important facts.</p>
<ol>
<li>Open block.py , and read through the class docstring carefully. A Block has quite a few attributes to understand, and the Representation Invariants are critical. </li>
<li>Draw the Block data structure corresponding to the game board below, assuming the maximum depth was 2 (and notice that it was indeed reached). You can just write a letter for each colour value. Assume that the size of the top-level block is 750.<br>Did you draw 9 nodes? Do the attribute values of each node satisfy the<br>representation invariants? Note: If you come to office hours, we will ask to<br>see your drawing before answering questions!</li>
</ol>
<h2 id="Task-2-Initialize-Blocks-and-draw-them"><a href="#Task-2-Initialize-Blocks-and-draw-them" class="headerlink" title="Task 2: Initialize Blocks and draw them"></a>Task 2: Initialize Blocks and draw them</h2><p>File(s): block.py , blocky.py<br>With a good understanding of the data structure, you are ready to start<br>implementing some of the key functionality. You should be able to run the<br>game, though it will only show you a blank board. In order to see an actual<br>Blocky board, you must:</p>
<ol>
<li>To make a Block drawable, you must implement _block_to_squares in blocky.py </li>
<li>To make a Block in interesting, you must implement in block.py<br>for implementing _block_to_squares, read the documentation from Block, paying<br>special note of the positions and sizes of a Block and its children. Here is<br>the strategy to use for implementing Block.smash: If a Block is not yet at its<br>maximum depth, it can be subdivided; this method will decide whether or not to<br>actually do so. To decide:</li>
</ol>
<ul>
<li>Use function random.random to generate a random number in the interval [0, 1). </li>
<li>Subdivide if the random number is less than math.exp(-0.25 * level) , where level is the level of the Block within the tree. </li>
<li>If a Block is not going to be subdivided, use a random integer to pick a colour for it from the list of colours in settings.COLOUR_LIST .<br>Method Block.smash is responsible for giving appropriate values to the<br>attributes of all Block s within the Block it generates. Notice that the<br>randomly-generated Block may not reach its maximum allowed depth. It all<br>depends on what random numbers are generated.<br>Check your work: We have provided an implementation of Block.<strong>str</strong> that<br>allows you to print a Block in text form. Use this to confirm that your<br>Block.<strong>smash</strong> method works correctly. We have also provided some pytest code<br>for testing the _blocks_to_squares function in the blocky.py module. See<br>example_tests.py for the test case. If both are working properly, then you<br>should see a correctly initialized game board when you run the game.</li>
</ul>
<h2 id="Task-3-The-goal-classes-and-random-goals"><a href="#Task-3-The-goal-classes-and-random-goals" class="headerlink" title="Task 3: The goal classes and random goals"></a>Task 3: The goal classes and random goals</h2><p>File(s): goal.py , settings.py<br>We need to have some basic ability to set goals and compute a player’s score<br>with respect to their goal. Get familiar with the abstract Goal class in<br>goal.py . It defines two abstract methods: score and description . Goal has<br>two subclasses: BlobGoal and PerimeterGoal . The basic skeletons for these<br>classes are provided.<br>Implement the function generate_goals in the goal.py module. This function<br>generates a list of random goals. Each goal is of the same type (i.e.,<br>BlobGoal or PerimeterGoal ) but has a different colour. The supported colours<br>can be found in the settings.py module in a Python list called COLOUR_LIST .<br>Once you have appropriately implemented generate_goals , implement the<br>BlobGoal.description and PerimeterGoal.description methods. You should see<br>these descriptions at the bottom of the window when running the game.</p>
<h2 id="Task-4-The-Player"><a href="#Task-4-The-Player" class="headerlink" title="Task 4: The Player"></a>Task 4: The Player</h2><p>File(s): player.py<br>Get familiar with the abstract Player class in player.py . A concrete<br>implementation of a human player is given to you; see: HumanPlayer . In order<br>for the user to be able to play the game, they must be able to select by<br>hovering over it with the mouse. See the HumanPlayer.get_selected_block<br>method. For this to work, you must implement the function _get_block in the<br>player.py module. Note: Do not make changes to the HumanPlayer class.<br>In order to support more than one player, you will need to implement the<br>create_players function in players.py . This function will generate the right<br>number of human players, random players, and smart players (with the given<br>difficulty levels), in that order. Give the players consecutive player<br>identifiers (IDs), starting at 0. Assign each player a random goal.<br>Check your work: You should be able to run a game with only human players. Try<br>running function two_player_game - you can uncomment out the call to it in the<br>main block of module game . To select a block for action, put the cursor<br>anywhere inside it and use the W and S keyboard keys to select the desired<br>level. The area to the right of the game board gives you instructions on the<br>key to press for each action.<br>So far, no real moves are happening and the score never changes. But, you<br>should see the board and see play pass back and forth between players.<br>Finally, the game should end when the desired number of moves has been<br>reached.</p>
<h2 id="Task-5-The-Blocky-actions"><a href="#Task-5-The-Blocky-actions" class="headerlink" title="Task 5: The Blocky actions"></a>Task 5: The Blocky actions</h2><p>Let’s improve playability by supporting all the actions in Blocky. Each of<br>these actions will mutate Blocks in some way.<br>Before you begin, you should review the representation invariants for class<br>Block . They are critical to the correct functioning of the program, and it is<br>the responsibility of all methods in the class to maintain them. When you are<br>done, double check that each of your mutating methods maintains the<br>representation invariants of class Block .<br>Implement also the method and consider it as a handy helper method for other<br>methods than change the order of children. The (x, y) coordinates for the<br>upper left corner of a child block are different depending on which child it<br>is!<br>Check your work: Now when you play the game, you should see the board<br>changing. You may find it easiest to use function solitaire_game to try out<br>the various moves.</p>
<h2 id="Task-6-Implement-scoring-for-perimeter-goals"><a href="#Task-6-Implement-scoring-for-perimeter-goals" class="headerlink" title="Task 6: Implement scoring for perimeter goals"></a>Task 6: Implement scoring for perimeter goals</h2><p>File(s): goal.py<br>Now let’s get scoring working. The unit we use when scoring against a goal is<br>a unit cell. The size of a unit cell depends on the maximum depth in the Block<br>. For example, with maximum depth of 4, we might get this board.<br>If you count down through the levels, you’ll see that the smallest blocks are<br>at level 4. Those blocks are unit cells. It would be possible to generate that<br>same board even if maximum depth were 5. In that case, the unit cells would be<br>one size smaller, even though no Block has been divided to that level.<br>Notice that the perimeter may include unit cells of the target colour as well<br>as larger blocks of that colour. For a larger block, only the unit-cell-sized<br>portions on the perimeter count. For example, suppose maximum depth were 3,<br>the target colour were red, and the board were in this state.<br>Only the red blocks on the edge would contribute, and the score would be 4:<br>one for each of the two unit cells on the right edge, and two for the unit<br>cells inside the larger red block that are actually on the edge. (Notice that<br>the larger red block isn’t divided into four unit cells, but we still score as<br>if it were.)<br>Remember that corner cells count twice towards the score. So if the player<br>rotated the lower right block to put the big red block on the corner (below)<br>the score would rise to 6.<br>Now that we understand these details of scoring for a perimeter goal, we can<br>implement it.</p>
<ol>
<li>It is very difficult to compute a score for a perimeter goal or a blob goal by walking through the tree structure. (Think about that!) The goals are much more easily assessed by walking through a two-dimensional representation of the game board. Your next task is to provide that possibility: in module , define function . </li>
<li>Now implement the method in class flattening the board to make your job easier! to truly calculate the score. Begin by goal.py<br>Check your work: Now when you play the game, if a player has a perimeter goal,<br>you should see the score changing. Check to confirm that it is changing<br>correctly.</li>
</ol>
<h2 id="Task-7-Implement-scoring-for-blob-goals"><a href="#Task-7-Implement-scoring-for-blob-goals" class="headerlink" title="Task 7: Implement scoring for blob goals"></a>Task 7: Implement scoring for blob goals</h2><p>File(s): goal.py<br>Scoring with a blob goal involves flattening the tree, iterating through the<br>cells in the flattened tree, and finding out, for each cell, what size of blob<br>it is part of (if it is part of a blob of the target colour). The score is the<br>biggest of these.<br>But how do we find out the size of the blob that a cell is part of? (Sounds<br>like a helper method, eh?) We’ll start from the given cell and</p>
<ul>
<li>if it’s not the target colour, then it is not in a blob of the target colour, so this cell should report 0. </li>
<li>if it is of the target colour, then it is in a blob of the target colour. It might be a very small blob consisting of itself only, or a bigger one. It must ask its neighbours the size of blob that they are in, and then use that to report its own blob size. (Sounds, recursive, eh?)<br>A potential problem with this is that when we ask a neighbour for their blob<br>size, they will count us in that blob size, and this cell will end up being<br>double counted (or worse). To avoid such issues, we will keep track of which<br>cells have already been “visited” by the algorithm. To do this, make another<br>nested list structure that is exactly parallel to the flattened tree. In each<br>cell, store:</li>
<li>-1 if the cell has not been visited yet </li>
<li>0 if it has been visited, and it is not of the target colour </li>
<li>1 if it has been visited and is of the target colour<br>Your task is to implement this algorithm.</li>
</ul>
<ol>
<li>Open goal.py and read the docstring for helper method BlobGoal._undiscovered_blob_size . </li>
<li>Draw a 4-by-4 grid with a small blob on it, and a parallel 4-by-4 grid full of -1 values. Pick a cell that is in your blob, and suppose we call BlobGoal._undiscovered_blob_size . Trace what the method should do. Remember not to unwind the recursion! Just assume that when you ask a neighbour to report its answer, it will do it correctly (and will update the visited structure correctly). </li>
<li>Implement BlobGoal._undiscovered_blob_size . </li>
<li>Now replace your placeholder implementation of BlobGoal.score with a real one. Use _undiscovered_blob_size as a helper method.<br>Although we only have two types of goal, you can see that to add a whole new<br>kind of goal, such as stringing a colour along a diagonal, one would only have<br>to define a new child class of Goal , implement the score method for that<br>goal, and then update the code that configures the game to include the new<br>goal as a possibility.<br>Check your work: Now when you play the game, a player’s score should update<br>after each move, regardless of what type of goal the player has.</li>
</ol>
<h2 id="Task-8-Add-random-players"><a href="#Task-8-Add-random-players" class="headerlink" title="Task 8: Add random players"></a>Task 8: Add random players</h2><p>File(s): player.py<br>Before you can implement a Player sub-class, you need to understand the game<br>loop. In game.py , the Game.run_game method contains what seems like an<br>infinite loop. This is the game loop, and it will iterate many times per<br>second. On each iteration, the game will ask the operating system for any<br>events that have occured (i.e., it will call pygame.event.get() ). The game<br>itself reacts to only the events it is interested in - we call this event-<br>driven programming. The loop will exit if the event indicates that the user<br>would like to quit the game (e.g., if they have closed the window). Otherwise,<br>the event is forwarded to a Player object. After all events are processed, the<br>game is updated by asking the player to make a move. Because the game loop<br>needs to keep iterating quickly, our Player object must respond quickly.<br>The HumanPlayer object is already implemented and reacts to specific keyboard<br>events. When a keyboard key is pressed, the HumanPlayer object will translate<br>the key into a desired action (if possible). A very short time (fractions of a<br>second) later, the game will ask the player to make a move. If there is no<br>desired action, then the HumanPlayer will not make a move (i.e., by returning<br>None ). Otherwise, the action that was translated from a keyboard event is<br>converted into a move based on the block the user is selecting.<br>For both RandomPlayer and SmartPlayer , we have provided a private attribute<br>_proceed . This attribute is initially False. Only when the user clicks their<br>mouse will the attribute be set to False so that the next time it is this<br>player’s turn, the player will wait for a mouse click again. The skeleton code<br>for this is already provided for you in both RandomPlayer.generate_move and<br>SmartPlayer.generate_move .<br>We will now implement the class RandomPlayer . Do not change the following<br>methods:</p>
<ul>
<li>RandomPlayer.get_selected_block </li>
<li>RandomPlayer.process_event<br>Your first task is to implement the initializer ( RandomPlayer.<strong>init</strong> ). You<br>must inherit the attributes of the Player class and document them. Once that<br>is done, you will need to implement how the RandomPlayer will make a random<br>but valid move on the board. We will do this in the RandomPlayer.generate_move<br>method. You must note mutate the given board parameter when generating a<br>random move! In order to assess whether a move is valid, the RandomPlayer must<br>create a copy of the board for each move it wants to try. To do this, to<br>implement the Block.create_copy method. Once you have a copy, you can mutate<br>that copy by applying the move on it and checking to see if it was successful.<br>If you implemented Block.create_copy correctly, then mutating the copy should<br>not impact the original board.<br>Hint: No block from your copy should not have the same id as a block from the<br>original board. But you can always find the block you copied from the original<br>board based on the position and level of the copy. Do you already have a<br>function that can do this?</li>
</ul>
<h2 id="Task-9-Add-smart-players"><a href="#Task-9-Add-smart-players" class="headerlink" title="Task 9: Add smart players"></a>Task 9: Add smart players</h2><p>File(s): player.py , block.py<br>We will now implement the class SmartPlayer . Do not change the following<br>methods:</p>
<ul>
<li>SmartPlayer.get_selected_block </li>
<li>SmartPlayer.process_event<br>Your first task is to implement the initializer ( SmartPlayer.<strong>init</strong> ). You<br>must inherit the attributes of the Player class and document them. A<br>SmartPlayer has a “difficulty” level, which indicates how difficult it is to<br>play against it.<br>Next, implement how the SmartPlayer will make moves on the board by completing<br>the SmartPlayer.generate_move method. A SmartPlayer randomly generates n valid<br>moves, where n is the SmartPlayer ‘s difficulty value. It then picks the one<br>that yields the best score, without taking into account any penalty that might<br>apply to an action.<br>When scoring each of the valid moves, you must not mutate the given board<br>parameter. The SmartPlayer must create a copy of the board for each move it<br>wants to assess. One you have a copy, you can mutate that copy by applying the<br>move on it.<br>If no best move was found and the current score is best, the SmartPlayer<br>should pass.<br>Check your work: Now you can run games with all types of players.</li>
</ul>
<h2 id="Polish"><a href="#Polish" class="headerlink" title="Polish!"></a>Polish!</h2><p>Take some time to polish up. This step will improve your mark, but it also<br>feels so good. Here are some things you can do:</p>
<ul>
<li>Pay attention to any violations of the “PEP8” Python style guidelines that PyCharm points out. Fix them! </li>
<li>In each module you are submitting, run the provided python_ta.check_all() code to check for errors. Fix them! </li>
<li>Check your docstrings to make sure they are precise and complete and that they follow the conventions of the Function Design Recipe and the Class Design Recipe. </li>
<li>Read through and polish your internal comments. </li>
<li>Remove any code you added just for debugging, such as print statements. </li>
<li>Remove any pass statement where you have added the necessary code. </li>
<li>Remove the word “TODO” and&#x2F;or “FIXME” wherever you have completed the task. </li>
<li>Take pride in your gorgeous code!</li>
</ul>
<h2 id="Submission-instructions"><a href="#Submission-instructions" class="headerlink" title="Submission instructions"></a>Submission instructions</h2><p>The following files are not to be submitted: actions.py , game.py ,<br>renderer.py , settings.py . Your code should run as if they were not modified<br>from the original starter code.</p>
<ol>
<li>Login to MarkUs and create a group for the assignment (or specify that you’re working alone). </li>
<li>DOES YOUR CODE RUN?! </li>
<li>Submit the files: block.py , blocky.py , goal.py , player.py . </li>
<li>On a fresh Teaching Lab machine, download all of the files you submitted, and test your code thoroughly. Your code will be tested on the Teaching Lab machines, so it must run in that environment. </li>
<li>Congratulations, you are finished with your third (and last) assignment in CSC148! Go have some chocolate or do a cartwheel. :)</li>
</ol>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://saferman.github.io/2023/03/30/Python%E4%BB%A3%E5%86%99%EF%BC%9ACSC148HBlocky/">http://saferman.github.io/2023/03/30/Python%E4%BB%A3%E5%86%99%EF%BC%9ACSC148HBlocky/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">Python代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/03/31/C++%E4%BB%A3%E5%86%99%EF%BC%9ACPSC131Concordance/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="C++代写：CPSC131Concordance">
                        
                        <span class="card-title">C++代写：CPSC131Concordance</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-03-31
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/C-%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">C++代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/03/29/SQL%E4%BB%A3%E5%86%99%EF%BC%9ACS9311MyUNSWSystem/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="SQL代写：CS9311MyUNSWSystem">
                        
                        <span class="card-title">SQL代写：CS9311MyUNSWSystem</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-03-29
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/SQL%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">SQL代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
