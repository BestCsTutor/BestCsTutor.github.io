<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Python代写：COMP329DialogueSystem, cs辅导|cs代写|计算机辅导|AI辅导|网络安全">
    <meta name="description" content="用NLTK库实现一个text-based conversational agent原型产品。  
IntroductionIn this assignment you will implement a prototype of a text">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Python代写：COMP329DialogueSystem | cs辅导|cs代写|计算机辅导|AI辅导|网络安全</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">cs辅导|cs代写|计算机辅导|AI辅导|网络安全</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>作业思路分享</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">cs辅导|cs代写|计算机辅导|AI辅导|网络安全</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			作业思路分享
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/14.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Python代写：COMP329DialogueSystem</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Python%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">Python代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-09-10
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>用NLTK库实现一个text-based conversational agent原型产品。  </p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In this assignment you will implement a prototype of a text-based<br>conversational agent &#x3D; dialogue system that is able to converse with a human<br>in ordinary natural language and provide rail information for a Sydney<br>suburban line Northern Line. The user should be able to ask for timetable<br>information and information about planned trackwork for the fortnight ahead.<br>The assignment consists of a basic task where the conversational agent is<br>completely in control of the conversation and an advanced task in which the<br>conversation shows some form of mixed-initiative between the conversational<br>agent and the human as discussed in the lecture. For the implementation of<br>your agent you have to use Python 3.6.x and SQLite and optionally if you wish<br>you can use the Natural Language Toolkit NLTK.Please note: the aim of this<br>assignment is to implement a goal-oriented conversational agent andnota<br>chatbot.</p>
<h2 id="Basic-Task"><a href="#Basic-Task" class="headerlink" title="Basic Task"></a>Basic Task</h2><p>For this basic task you have to implement a conversational agent who is always<br>in control and drives the conversation. Your agent should be able to handle<br>the following two dialogues timetable information 2.1 and trackwork<br>information 2.2 that we will use to test your implementation. But of course<br>you don’t want to hard-code these dialogues and you should allow for different<br>trips and destinations on the Northern Line. Also you should use a grammar<br>most likely implemented via regular expressions or string methods that allows<br>for some variation in the user input. The agent should recover gracefully if<br>something goes wrong in a dialogue state and re-prompt the user accordingly.</p>
<h2 id="Timetable-Information"><a href="#Timetable-Information" class="headerlink" title="Timetable Information"></a>Timetable Information</h2><ul>
<li>Computer: Welcome to Sydney Train’s text-based rail information service. This service will help you finding convenient ways to travel by asking you a number of questions. If you are not sure about how to answer a question simply type ‘help’. You can ‘quit’ the conversation anytime. </li>
<li>Computer: Would you like timetable information or information on trackwork? </li>
<li>User: I would like timetable information. </li>
<li>Computer: Sure. What station would you like to leave from? </li>
<li>User: Epping. </li>
<li>Computer: Okay Epping. And where are you travelling to? </li>
<li>User: Hmm - to Central Station. </li>
<li>Computer: Okay to Central and do you want to travel on a weekday or on a weekend? </li>
<li>User: I want to travel next Monday. </li>
<li>Computer: Travelling on Monday September 18 and what time would you like to depart from Epping? </li>
<li>User: At about 10:45 or so in the morning. </li>
<li>Computer: Let me see - I have a train leaving Epping at 10:47 and arriving at Central at 11:23. Would you like an earlier or later train? </li>
<li>User: A later one please. </li>
<li>Computer: Let me check - I have a train leaving Epping at 11:00 and arriving at Central at 11:25. Would you like a later train? </li>
<li>User: No thank you - this train suits me well. </li>
<li>Computer: Okay thank you for tavelling with Sydney Train - cost effective reliable and convenient.</li>
</ul>
<h2 id="Trackwork-Information"><a href="#Trackwork-Information" class="headerlink" title="Trackwork Information"></a>Trackwork Information</h2><ul>
<li>Computer: Welcome to Sydney Train’s text-based rail information service. This service will help you finding convenient ways to travel by asking you a number of questions. If you are not sure about how to answer a question simply type ‘help’. You can ‘quit’ the conversation anytime. </li>
<li>Computer: Would you like timetable information or information on trackwork” </li>
<li>User: Trackwork information please. </li>
<li>Computer: On what line are you planning to travel on? </li>
<li>User: Northern Line. </li>
<li>Computer: On what day will you be travelling? </li>
<li>User: On the sixteenth. </li>
<li>Computer: At what time? </li>
<li>User: 10:00. </li>
<li>Computer: There is trackwork on the Northern Line on Saturday 16 September 02:00 to Monday 18 September 02:00 Buses replace trains between Hornsby and Strathfield via Eastwood. </li>
<li>Computer: Would you like more information on timetable or trackwork? </li>
<li>User: Timetable please. </li>
<li>Computer: Sure. What station would you like to leave from?<br>Note that the welcome prompt should only be used the first time and the user<br>should be able to select between “timetable information” and “trackwork<br>information”.<br>Note also that a dialogue state has the following general form:</li>
<li>Prompts: <ul>
<li>Main prompt: Would you like timetable information or information on trackwork” </li>
<li>Secondary prompt: Type either timetable or trackwork. </li>
<li>Help prompt: This service can provide information on train timetable or trackwork information. Please type either timetable or trackwork.</li>
</ul>
</li>
<li>Expected Response: timetable|trackwork </li>
<li>Grammar: Format of your choice most likely regular expressions or string methods </li>
<li>Event Handling: For example if the answer is not in the scope of the grammar then the user should be re-prompted or if the user types ‘help’ then the help prompt should be used. In certain states the agent needs to connect to the database and extract the relevant information from there.<br>This basic version of the conversational agent should be implemented as a<br>Python program with the name train-1.py and the dialogue should run in the<br>Python shell. Together with your main program you have to submit all<br>additional non-standard modules that are necessary to run your code.</li>
</ul>
<h2 id="Advanced-Task"><a href="#Advanced-Task" class="headerlink" title="Advanced Task"></a>Advanced Task</h2><p>For the advanced task you can take the work of the basic task as starting<br>point and extend it. In the basic version the agent is completely in control<br>of the conversation and collects in each dialogue state one particular piece<br>of information. However this is not a very satisfactory solution: your<br>dialogue design should allow for some degree of mixed-initiative for example:</p>
<ul>
<li>Computer: What train trip do you want to make” </li>
<li>User: I wanna travel from Epping to Central.<br>Here you have to collect two pieces of information during a dialogue state.<br>How far you take this approach is up to you and you can come up with your own<br>prompts in this advanced task. However keep in mind that you want to strive<br>for a high task completion rate and give the user an good experience. You can<br>implement your own SQLite queries for this advanced task if you like and<br>extend the database if you like and add additional features of your choice to<br>the conversational agent. If you choose to add additional features to the<br>conversational agent you will need to document these features in a two-page<br>report and explain why these feature add value to your system. This advanced<br>version of the conversational agent should be implemented as a Python program<br>with the name train-2.py and the dialogue should run in the Python shell.<br>Together with your main program you have to submit all additional non-standard<br>modules that are necessary to run the advanced version of the code.</li>
</ul>
<h2 id="SQLite-Database"><a href="#SQLite-Database" class="headerlink" title="SQLite Database"></a>SQLite Database</h2><p>In order to converse with the agent you have to access an small SQLite<br>database train.db where you can find the relevant information for the basic<br>task. Since this assignment is not about databases and database design we<br>provide only a very simple database which you can find under Assignment 1:<br>Train Database together with a Python program train-db.py that has been used<br>to generate the database.The database contains only information for<br>connections on the Northern Line between about 10:20 and 12:20. Note that the<br>following train stations are part of the Northern Line this information is<br>important because these names will be part – among other things – of your<br>grammar.</p>
<ul>
<li>Hornsby </li>
<li>Normanhurst </li>
<li>Thornleigh </li>
<li>Pennant Hills </li>
<li>Beecroft </li>
<li>Cheltenham </li>
<li>Epping </li>
<li>Eastwood </li>
<li>Denistone </li>
<li>West Ryde </li>
<li>Meadowbank </li>
<li>Rhodes </li>
<li>Concord West </li>
<li>North Strathfield </li>
<li>Strathfield </li>
<li>Burwood </li>
<li>Redfern </li>
<li>Central </li>
<li>Town Hall </li>
<li>Wynyard </li>
<li>Milsons Point </li>
<li>North Sydney </li>
<li>Waverton </li>
<li>Wollstonecraft </li>
<li>St Leonards </li>
<li>Artarmon </li>
<li>Chatswood<br>For the basic task of this assignment you don’t have write any SQL queries<br>from scratch. The following two SQL queries answer the questions raised in the<br>basic task where the user is looking for a train from Epping to Central that<br>leaves Epping at around 10:45 on a weekday WD note the code for weekend is WE<br>and whether there is some trackwork on the Northern Line on 16 August at 10:00<br>or not. You can use these SQL queries as templates for other similar queries.<br>As you can see there exists a train that leaves Epping at 10:47 and arrives at<br>Central at 11:23. This is the closest match to the SQL query. There exist<br>earlier and later trains.<br>The second SQL query is pretty straightforward and returns the relevant<br>trackwork information:<br>You can find an introduction to SQLite in this tutorial.<br>The basic task of the assignment is worth 14 marks and the advanced task is<br>worth an additional 6 marks. You will be awarded marks according to the<br>following guidelines:</li>
</ul>
<h2 id="Basic-Task-1"><a href="#Basic-Task-1" class="headerlink" title="Basic Task"></a>Basic Task</h2><p>Functionality: The conversational agent processes both dialogues as<br>illustrated above re-prompts the user if the input was not recognised and<br>provides help if required for each dialogue state.<br>Grammar coverage: The grammar regular expressions&#x2F;string methods shows some<br>sophistication in pattern matching.<br>Quality of the code: The Python code is modular well-documented and uses a<br>consistent naming convention.</p>
<h2 id="Advanced-Task-1"><a href="#Advanced-Task-1" class="headerlink" title="Advanced Task"></a>Advanced Task</h2><p>Quality of prompts: The prompts have been selected carefully to implement a<br>form of mixed-initiative.<br>Additional features and report: The additional features at most two are useful<br>add value to the conversational agent and are carefully implemented 2 marks.<br>The choice of the additional features is well-motivated and clearly described<br>in the report 2 marks.</p>
<h2 id="Submission"><a href="#Submission" class="headerlink" title="Submission"></a>Submission</h2><p>You have to submit a ZIP file comp329-assignment-1.zip that contains the<br>Python program train-1.py for the basic version of the conversational agent<br>and the Python program train-2.py for the advanced version incl. all non-<br>standard modules and the SQLite database that are necessary to run your code.<br>Your code needs to run out-of-the-box we only assume a basic Python<br>installation together with the NLTK toolkit. If you submit a solution to the<br>advanced task of the assignment that contains additional features then you<br>have to add a twopage report in form of a PDF file to the ZIP file of your<br>submission.</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://bestcstutor.github.io/2023/09/10/Python%E4%BB%A3%E5%86%99%EF%BC%9ACOMP329DialogueSystem/">https://bestcstutor.github.io/2023/09/10/Python%E4%BB%A3%E5%86%99%EF%BC%9ACOMP329DialogueSystem/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Python%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">Python代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/09/14/AI%E4%BB%A3%E5%86%99%EF%BC%9ACSCI5613DMazes/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="AI代写：CSCI5613DMazes">
                        
                        <span class="card-title">AI代写：CSCI5613DMazes</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-09-14
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/AI%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">AI代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/09/09/OperatingSystem%E4%BB%A3%E5%86%99%EF%BC%9AECS60MemoryManager/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="OperatingSystem代写：ECS60MemoryManager">
                        
                        <span class="card-title">OperatingSystem代写：ECS60MemoryManager</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-09-09
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Operating-System%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">Operating System代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
