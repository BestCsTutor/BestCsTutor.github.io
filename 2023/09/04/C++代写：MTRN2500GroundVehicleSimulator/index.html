<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="C++代写：MTRN2500GroundVehicleSimulator, 留学生CS|辅导|代写">
    <meta name="description" content="练习OpenGL库的使用，代写一个3D模拟器。  
Aims
To implement an object-oriented program using C++. 
To make proper use of an industry sta">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>C++代写：MTRN2500GroundVehicleSimulator | 留学生CS|辅导|代写</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">留学生CS|辅导|代写</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>辅导案例集合</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">留学生CS|辅导|代写</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			辅导案例集合
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/2.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">C++代写：MTRN2500GroundVehicleSimulator</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/C-%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">C++代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-09-04
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>练习OpenGL库的使用，代写一个3D模拟器。  </p>
<h2 id="Aims"><a href="#Aims" class="headerlink" title="Aims"></a>Aims</h2><ul>
<li>To implement an object-oriented program using C++. </li>
<li>To make proper use of an industry standard 3D graphics library (OpenGL). </li>
<li>To interface with a live stream of data to control a graphical object and display it in its environment.</li>
</ul>
<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Modelling of custom mechanical, electrical and autonomous systems can be a<br>beneficial step to understanding a system. While CAD software provides a good<br>design tool, modelling of live systems specifically for control and status<br>monitoring can be more efficient under purpose built software rather than<br>modifying existing software to meet the system’s requirements. This assignment<br>will require you to extend the given 3D world modelling software to model the<br>motion of two or more ground vehicles. You will then be required to read data<br>streams or an input device in real-time, use the data to control the graphical<br>ground vehicles and display them in their environments.</p>
<h2 id="Supplied-Code-Overview"><a href="#Supplied-Code-Overview" class="headerlink" title="Supplied Code Overview"></a>Supplied Code Overview</h2><p>You should begin this assignment by downloading the base code ZIP file from<br>Moodle. A number of files have been provided to allow you to view and navigate<br>a simple 3D world so you can test your code. See Section 4 for details on<br>downloading and setting up the given base code.<br>Once the downloaded code is up and running the list of controls in Table 1<br>will allow you control the vehicle and to move the virtual camera.</p>
<table>
<thead>
<tr>
<th>Control</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>Arrow keys</td>
<td>Drive vehicle forward&#x2F;left&#x2F;backwards&#x2F;right.</td>
</tr>
<tr>
<td>W,A,S,D</td>
<td>Move camera forward&#x2F;left&#x2F;backward&#x2F;right.</td>
</tr>
<tr>
<td>C</td>
<td>Descend camera vertically.</td>
</tr>
<tr>
<td>(space)</td>
<td>Ascend camera vertically.</td>
</tr>
<tr>
<td>Mouse drag</td>
<td>Rotate the camera’s viewing direction.</td>
</tr>
<tr>
<td>0 (zero)</td>
<td>Move the camera to the origin.</td>
</tr>
<tr>
<td>P</td>
<td>Move the camera to vehicle pursuit position.</td>
</tr>
<tr>
<td>Additionally, you can exit the program by pressing Escape. See the use of the</td>
<td></td>
</tr>
<tr>
<td>“KeyManager” class in the main source file for more information on how</td>
<td></td>
</tr>
<tr>
<td>keyboard events are linked to the virtual OpenGL Camera. In short, keys that</td>
<td></td>
</tr>
<tr>
<td>are pressed once (such as getting the virtual camera to move to the origin)</td>
<td></td>
</tr>
<tr>
<td>are handled the normal way via GLUT (OpenGL Utility Toolkit). To handle</td>
<td></td>
</tr>
<tr>
<td>multiple keys being held down at the same time, the additional functionality</td>
<td></td>
</tr>
<tr>
<td>of the custom “KeyManager” class is used.</td>
<td></td>
</tr>
<tr>
<td>Usually when modelling a vehicle’s pose and motion from live sensor data you</td>
<td></td>
</tr>
<tr>
<td>would acquire the data from a suite of on board sensors, a centralised</td>
<td></td>
</tr>
<tr>
<td>database or a network socket. For this assignment, you will be reading data</td>
<td></td>
</tr>
<tr>
<td>from a data server.</td>
<td></td>
</tr>
<tr>
<td>The “Shape” class provided should be used as the parent or base class for all</td>
<td></td>
</tr>
<tr>
<td>shapes outlined in Section 5.1. For simplicity, all shapes you create will</td>
<td></td>
</tr>
<tr>
<td>have a 3D position using (x, y, z) coordinates and a yaw angle in degrees. Yaw</td>
<td></td>
</tr>
<tr>
<td>is the rotation in the horizontal plane, which in this case is the XZ-plane.</td>
<td></td>
</tr>
<tr>
<td>Zero degrees of rotation means you are facing a direction parallel to the</td>
<td></td>
</tr>
<tr>
<td>positive x-axis. The vertical axis is the y-axis and we are using a right hand</td>
<td></td>
</tr>
<tr>
<td>coordinate system.</td>
<td></td>
</tr>
<tr>
<td>The “Vehicle” class should be used as the parent or base class for designing</td>
<td></td>
</tr>
<tr>
<td>vehicles as outlined in Section 5.2. The base vehicle object uses a basic</td>
<td></td>
</tr>
<tr>
<td>mathematical model to translate speed and steering values from input devices</td>
<td></td>
</tr>
<tr>
<td>such as the keyboard or an Xbox controller to motion. Your initial task is to</td>
<td></td>
</tr>
<tr>
<td>practice writing derived classes that represent different vehicle designs. See</td>
<td></td>
</tr>
<tr>
<td>Section 5.2 for further details.</td>
<td></td>
</tr>
<tr>
<td>After you have defined a custom class deriving from the Vehicle class you can</td>
<td></td>
</tr>
<tr>
<td>test it by finding the following section of code in the main() function in the</td>
<td></td>
</tr>
<tr>
<td>file main.cpp:</td>
<td></td>
</tr>
</tbody></table>
<pre><code>// vehicle = new MyVehicle();  
</code></pre>
<p>—|—<br>You should replace “MyVehicle” with the name of your custom vehicle class and<br>uncomment the line of code. This will enable the rest of the keyboard and<br>drawing functions to be linked with your custom vehicle class.</p>
<h2 id="Setting-Up"><a href="#Setting-Up" class="headerlink" title="Setting Up"></a>Setting Up</h2><p>The following steps will get you up to compiling and running the base source<br>code provided on Moodle. There is a separate section for each of Windows,<br>Linux and Mac OS X. Although there are different steps for each operating<br>system, all of the base assignment code can be found in the AssignmentGL-<br>Base.zip file on Moodle. All supporting headers, libs and dlls can be found in<br>the AssignmentGL-Support.zip file on Moodle.</p>
<h3 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h3><p>These steps are based on Visual Studio 2010, but should also work for later<br>Visual Studio versions. As a student of the University of New South Wales, you<br>are eligible to download a free student-licensed version of Visual Studio<br>Professional by visiting Microsoft Dreamspark (<a target="_blank" rel="noopener" href="http://www.dreamspark.com/">www.dreamspark.com</a>) online.</p>
<h4 id="Setting-up-a-new-project"><a href="#Setting-up-a-new-project" class="headerlink" title="Setting up a new project"></a>Setting up a new project</h4><ol>
<li>Open Visual Studio and create a new project. </li>
<li>From the Templates panel on the left select Visual C++ and then Win32. </li>
<li>Select Win32 Console Application. </li>
<li>Enter a project Name. (For example “Assign2 “). </li>
<li>Choose a Location to place the project. </li>
<li>Leave the Solution Name the same as the project Name. </li>
<li>Click OK. </li>
<li>Click Next to go to the “Application Settings” page. </li>
<li>Make sure Application Type is “Console Application”. Make sure Additional options has “Empty project” checked and “Precompiled header” and everything else unchecked. Make sure Add common header files for has every option unchecked. </li>
<li>Click Finish to finish setting up the project.</li>
</ol>
<h4 id="Including-the-base-source-code"><a href="#Including-the-base-source-code" class="headerlink" title="Including the base source code"></a>Including the base source code</h4><ol>
<li>Download the Assignment ZIP (AssignmentGL-Base.zip) file and extract to somewhere easy to find. </li>
<li>Back in the new project you’ve just created find the Solution Explorer. If you cannot find the Solution Explorer go to the View menu then click Solution Explorer. </li>
<li>A cpp file will have been created with the same name as the project, for example Assign2.cpp. Open this file and delete the contents (we will be using our own pre-defined main function). </li>
<li>In the Solution Explorer right-click “Header Files”, select “Add” and then “Existing Item”. </li>
<li>Locate the folder where you extracted the Assignment ZIP files. Highlight all the hpp files and click “Add”. (You can select a group of files by holding Control and clicking on each file). </li>
<li>In the Solution Explorer right-click “Source Files”, select “Add” and then “Existing Item”. </li>
<li>Locate the folder where you extracted the Assignment ZIP files. Highlight all the cpp files and click “Add”.<br>All the given header and source files are now set up and included correctly.</li>
</ol>
<h4 id="Setting-up-OpenGL-headers-libs-and-dlls"><a href="#Setting-up-OpenGL-headers-libs-and-dlls" class="headerlink" title="Setting up OpenGL headers, libs and dlls"></a>Setting up OpenGL headers, libs and dlls</h4><ol>
<li>Download the AssignmentGL-Support.zip file from Moodle and extract the files to an easy to find location. In the Win32 folder there should be three folders: dlls, include and lib. </li>
<li>Copy the include and lib folders to an easy to find location, for example C:\include and C:\lib. </li>
<li>Open the dlls folder and copy the contents to C:\Windows\System32. Alternatively you can place the dll files in the same directory that the compiled exe file will eventually be compiled to. If you keep Visual Studio in “Debug” mode (this is the default mode), the exe will eventually be compiled to a “Debug” folder in your project files.</li>
</ol>
<h4 id="Compiling-and-Linking-with-OpenGL"><a href="#Compiling-and-Linking-with-OpenGL" class="headerlink" title="Compiling and Linking with OpenGL"></a>Compiling and Linking with OpenGL</h4><ol>
<li>Back in the Visual Studio project open project properties (either via Alt+F7 or via the “Project” menu then “Assign2 Properties”). </li>
<li>Navigate to the Configuration Properties, C&#x2F;C++, General section. </li>
<li>Set “Additional Include Directories” to the location where you placed the GL files include directory, for example C:\include. </li>
<li>Navigate to the Configuration Properties, Linker, General section. </li>
<li>Set “Additional Library Directories” to the location where you placed the GL files lib directory, for example C:\lib. </li>
<li>Navigate to the Configuration Properties, Linker, Input section. </li>
<li>On “Additional Dependencies” click the down arrow and the “Edit”. </li>
<li>Add to the textbox, one per line: opengl32.lib, glu32.lib, and glut32.lib </li>
<li>Click OK. </li>
<li>Click OK.<br>Everything should be properly set up and ready to compile and run. Press F5.<br>This should compile and then run the program. If a window appears then it<br>worked. Try and move around the basic 3D world using the controls outlined<br>earlier in Table 1 of this document.<br>If it didn’t work look at the Output window, usually at the bottom of Visual<br>Studio. If the Output window is not visible you can select it from the “View”<br>menu. If you can self diagnose the problem that is great, but you are also<br>encouraged to post a topic on the Assignment Two Discussion Board in Moodle.</li>
</ol>
<h3 id="Linux-and-Mac"><a href="#Linux-and-Mac" class="headerlink" title="Linux and Mac"></a>Linux and Mac</h3><p>These steps are based on using the g++ compiler.<br>Linux and Mac OS X are relatively the same, except on most Linux distros the<br>compiler and libraries are installed by default. In Linux, if you try to run<br>the command g++ and the shell complains that it cannot find the command, you<br>should install the compiler by running the following command:<br>    Ubuntu&#x2F;Debian:<br>    apt-get install build-essential<br>    RedHat:<br>    rpm install build-essential<br>On Mac OS X you will need to install Xcode. Xcode is available via the App<br>Store for free, but a link can also be found on <a target="_blank" rel="noopener" href="http://developer.apple.com/"> http://developer.apple.com
</a> if you have a free Apple developer licence.<br>Xcode is something like 3 or 4 GB, so be warned.</p>
<h4 id="Setting-up-a-folder-structure"><a href="#Setting-up-a-folder-structure" class="headerlink" title="Setting up a folder structure"></a>Setting up a folder structure</h4><ol>
<li>Create a new directory called, for example, assign2. </li>
<li>Download the AssignmentGL-Base.zip file and extract the hpp and cpp files to the newly created directory.</li>
</ol>
<h4 id="Setting-up-OpenGL-headers-and-libs"><a href="#Setting-up-OpenGL-headers-and-libs" class="headerlink" title="Setting up OpenGL headers and libs"></a>Setting up OpenGL headers and libs</h4><p>On Mac OS X, downloading Xcode will automatically set up OpenGL, GLU and GLUT<br>in the correct place. On Linux you should be able to apt-get install<br>(Debian&#x2F;Ubuntu) or rpm install (RedHat) the correct packages. If on Linux and<br>you can’t install the headers and libs using a packing service, use the<br>following backup steps:</p>
<ol>
<li>Download the AssignmentGL-Support.zip file from Moodle and extract the files to an easy to find temporary location. In the Linux folder there should be two folders: include and lib. </li>
<li>Copy the include folder to a location that’s easy to find (for example: &#x2F;include). </li>
<li>Copy the lib folder to a location that’s easy to find (for example: &#x2F;lib).<br>Please ask for assistance in the Assignment Two Discussion Board on Moodle if<br>you run into problems.</li>
</ol>
<h4 id="Compiling-and-linking-with-OpenGL"><a href="#Compiling-and-linking-with-OpenGL" class="headerlink" title="Compiling and linking with OpenGL"></a>Compiling and linking with OpenGL</h4><p>It is recommended to put the following text in a Makefile file in the<br>assignment code directory.<br>    LIBS &#x3D; -lGL -lGLU -lGLUT<br>    SRC &#x3D; <list all your cpp files><br>    LIBDIR &#x3D; -L&#x2F;lib<br>    INCDIR &#x3D; -I&#x2F;include<br>    all:<br>    <tab> g++ -o run $(SRC) $(LIBS) $(LIBDIR) $(INCDIR) -g<br>—|—<br>On Mac OS X you may not need to specify the LIBDIR or INCDIR for OpenGL<br>support files as Xcode might have set them up properly for you. Also, Mac OS X<br>users might find it easier developing directly in Xcode instead of using g++<br>directly. There are plenty of tutorials online for setting up an OpenGL&#x2F;GLUT<br>project with Xcode, but if you need further assistance, please ask in the<br>Assignment Two Discussion Board on Moodle.<br>By creating a Makefile you can simply type make at the command line in the<br>assignment directory and it will compile and link your code to from an<br>executable. Remember, when you add more cpp files make sure you make the<br>necessary changes to the Makefile as well.<br>You can then run the program by typing:<br>    .&#x2F;run</p>
<h2 id="Part-1-Constructing-Shapes-and-a-Vehicle"><a href="#Part-1-Constructing-Shapes-and-a-Vehicle" class="headerlink" title="Part 1 - Constructing Shapes and a Vehicle"></a>Part 1 - Constructing Shapes and a Vehicle</h2><h3 id="Creating-Basic-3D-Shapes"><a href="#Creating-Basic-3D-Shapes" class="headerlink" title="Creating Basic 3D Shapes"></a>Creating Basic 3D Shapes</h3><p>Your first task is to extend the Shape class to implement a set of basic 3D<br>shapes. When we say extend we mean the object oriented programming term -<br>class derivation - rather than adding a large chunk of code to the Shape class<br>itself. The Shape class contains position and orientation attributes, which<br>are common to every 3D object. You need to implement classes at least for the<br>following shapes outlined in this document. For simplicity, each object can be<br>assigned one colour using three floats to specify the red, green and blue<br>components of the colour. Look at the “Shape.hpp” file for more details on how<br>to interface with and extend the Shape object.</p>
<h4 id="Rectangular-Prism"><a href="#Rectangular-Prism" class="headerlink" title="Rectangular Prism"></a>Rectangular Prism</h4><p>This shape should make use of three additional member attributes concerning<br>the length of the shape in the three spatial dimensions (for example, x<br>length, y length and z length). You should also devise how the volume of the<br>prism is positioned relative to it’s internal x, y and z attributes and how<br>the rotation variable rotates the object in the horizontal plane. One<br>suggestion could be to define the (x, y, z) location as the center of the<br>object and the object’s rotation is applied about the origin of the object.</p>
<h4 id="Triangular-Prism"><a href="#Triangular-Prism" class="headerlink" title="Triangular Prism"></a>Triangular Prism</h4><p>This shape should make use of additional member attributes to specify the<br>dimensions of the triangular prism, the choice of which is left up to you. The<br>length of the prism is an obvious choice for one of these attributes, but you<br>should determine a method for specifying the shape of the triangular<br>dimensions of the object. For example, two different approaches, among others,<br>are to store:</p>
<ul>
<li>the three side lengths of the triangle, or </li>
<li>two side lengths and an angle.<br>You should also remember to intelligently decide on a center for your object<br>and how this relates to object rotation.</li>
</ul>
<h4 id="Trapezoidal-Prism"><a href="#Trapezoidal-Prism" class="headerlink" title="Trapezoidal Prism"></a>Trapezoidal Prism</h4><p>You should decide on additional member attributes to specify the shape of this<br>object. In particular you need to decide on a way of specifying the dimensions<br>of the trapezium at the end of the prism in an efficient way.</p>
<h4 id="Cylinder"><a href="#Cylinder" class="headerlink" title="Cylinder"></a>Cylinder</h4><p>You can use additional member attributes such as length or height along with<br>radius to specify the dimensions of a cylinder. You may make use of the<br>inbuilt “gluCylinder” or “glutCylinder” functions. A cylinder for this project<br>must be a solid cylinder. That is, it should consist of a curved surface<br>together with two circles on each end of the cylinder. The center of a<br>cylinder might be defined as the point half way along the central axis of the<br>cylinder for rotation purposes.</p>
<h3 id="Vehicle-Modelling"><a href="#Vehicle-Modelling" class="headerlink" title="Vehicle Modelling"></a>Vehicle Modelling</h3><p>Using the collection of basic 3D shapes we have defined in the previous<br>section, you should implement some models of different types of vehicles. When<br>implementing a model of a vehicle you should extend from the base “Vehicle”<br>class provided with the initial collection of files. When constructing the<br>model from basic shapes you should position shapes in the vehicle’s local<br>frame of reference. As a result, the “draw” function in your custom vehicle<br>class should contain the following general structure:<br>    void MyVehicle::draw()<br>    {<br>      &#x2F;&#x2F; move to the vehicle’s local frame of reference<br>      glPushMatrix();<br>      positionInGL();<br>      &#x2F;&#x2F; all the local drawing code<br>      &#x2F;&#x2F; move back to global frame of reference<br>      glPopMatrix();<br>    }<br>—|—<br>The base “Vehicle” class contains an “update” function which handles<br>interpreting control input into vehicle motion using a basic mathematical<br>model. Although it is not required, you may modify or improve this<br>mathematical model in the “Vehicle” class. The “update” function, combined<br>with the drawing structure above will position and orient the vehicle’s model<br>correctly in 3D space. You need to make sure you position shapes so that the<br>vehicle is facing the positive x-axis in it’s local frame of reference. For<br>best results make your vehicles not longer than 4 units and not wider than 3<br>units.<br>However, if your vehicle has wheels (which it probably will), you must make<br>the wheels rotate at a rate that approximately resembles the vehicle’s speed.<br>Additionally, if your vehicle has wheels that can steer when steering then you<br>also should make the models wheel’s steer proportional to the steering angle.<br>When your work is being assessed, we will give you a model of vehicle<br>(hereafter called the local vehicle) that contain both wheels that rotate and<br>wheels that steer. In addition you will also receive one or more vehicle<br>models (here after called remote vehicles) from a data server. You need to<br>display all these vehicles on the screen. See Section 8 for more details.<br>As good preparation, you could implement some prefabricated vehicle parts to<br>make constructing vehicle models quicker. For example, a “Wheel” class could<br>be created that contains a cylinder wheel with either cylindrical or prism<br>based spokes for the wheels to tell they are turning when the vehicle is in<br>motion. The more prepared you are beforehand, the easier the assessment<br>process will be.</p>
<h3 id="Final-Checklist-for-Part-1"><a href="#Final-Checklist-for-Part-1" class="headerlink" title="Final Checklist for Part 1"></a>Final Checklist for Part 1</h3><ol>
<li>Create a RectangularPrism class extended from Shape class. </li>
<li>Create a TriangularPrism class extended from Shape class. </li>
<li>Create a TrapezodialPrism class extended from Shape class. </li>
<li>Create a Cylinder class extended from Shape class.<br>Get your first progress check done by any demonstrator before 5.00 pm of<br>Friday week 7 showing above four items in the form of source code or on screen<br>functionality.</li>
<li>Instantiate local&#x2F;remote vehicles extended from Vehicle class. </li>
<li>Vehicles should have wheels that roll when driving forward&#x2F;backward. </li>
<li>Vehicles should have front wheels that steer when steering.<br>Get your second progress check done by any demonstrator before 5.00 pm Friday<br>of week 8 showing above three items in the form of on screen functionality.</li>
</ol>
<h2 id="Part-2-Using-Data-from-the-Data-Server"><a href="#Part-2-Using-Data-from-the-Data-Server" class="headerlink" title="Part 2 - Using Data from the Data Server"></a>Part 2 - Using Data from the Data Server</h2><p>This part deals with dynamically adding vehicles into your program using a<br>server, and making these remote vehicles move. (See Section 7 to see how to<br>make the local vehicle move). In order to do this you will need to interface<br>with a data source over an Ethernet&#x2F;Wi-fi connection. We have provided a class<br>(called RemoteDataManager) and a set of functions (declared in Messages.hpp)<br>that hides away most of the low-level implementation detail for you. The<br>RemoteDataManager class will connect over the internet to the UNSW robotics<br>server <a target="_blank" rel="noopener" href="http://www.robotics.unsw.edu.au/">www.robotics.unsw.edu.au</a>. Communication with the server is<br>bidirectional, and is used to synchronise your environment with the server’s.<br>To enable communication with the data server, uncomment the relevant line of<br>code in the idle() function in the main.cpp file near this line.<br>Most of the messages received from the data server will be handled by the<br>provided code, with the exception of the “M”-vehicle model message. The “M”<br>message contains one or more VehicleModel objects represented according to the<br>data structures given in Table 2, where each VehicleModel has a vector of<br>shapes. You will need to process each model object to instantiate the remote<br>vehicles correctly, and in each model object, you will need to process the<br>shape information. The relevant section of code can be found in the main()<br>function in the file main.cpp near this line:<br>    &#x2F;&#x2F;otherVehicles[vm.remoteID] &#x3D; new MyVehicle();<br>—|—<br>You should replace “MyVehicle” with the name of your custom vehicle class and<br>uncomment the line of code. This will enable remote vehicles to be added to<br>the map of other vehicles to be drawn and updated.<br>As can be seen, the information here is not any different to the information<br>you used to draw the local vehicle. Hence, you can use the parts of software<br>you used to draw the local vehicle to draw these remote vehicles in an<br>identical manner provided you match up the data received from the data server<br>to your own vehicle data representation. As soon as you have drawn your remote<br>vehicles, they will begin to move according to the state data streaming from<br>the data server. The part that moves the remote vehicles has already been<br>completed for you and you therefore do not have to do this part. However, on<br>connection you will need to tell the remote server what your vehicle looks<br>like. The functionality to package and send the data has been provided by the<br>RemoteDataManager networking software. You need to provide the code to fill in<br>the outgoing data structure, given in Table 2. If the data you provide is<br>beyond nominal range, the server may respond with an error message and<br>terminate your connection.<br>    enum ShapeType<br>    {<br>      UNKNOWN_SHAPE,<br>      RECTANGULAR_PRISM,<br>      TRIANGULAR_PRISM,<br>      TRAPEZOIDAL_PRISM,<br>      CYLINDER<br>    };<br>    union ShapeParameter<br>    {<br>      struct RectangularParameters<br>      {<br>        float xlen;   &#x2F;&#x2F; length along x-axis<br>        float ylen;   &#x2F;&#x2F; length along y-axis<br>        float zlen;   &#x2F;&#x2F; length along z-axis<br>      } rect;<br>      struct TriangularParameters<br>      {<br>        float alen;   &#x2F;&#x2F; length of side A (bottom)<br>        float blen;   &#x2F;&#x2F; length of side B (left)<br>        float angle;  &#x2F;&#x2F; angle (degrees) between side A and B<br>        float depth;  &#x2F;&#x2F; length along z-axis<br>      } tri;<br>      struct TrapezoidalParameters<br>      {<br>        float alen;   &#x2F;&#x2F; length of side A (bottom)<br>        float blen;   &#x2F;&#x2F; length of side B (top)<br>        float height; &#x2F;&#x2F; distance between side A and B<br>        float aoff;   &#x2F;&#x2F; distance A is shifted from B by, from the left<br>        float depth;  &#x2F;&#x2F; length along z-axis<br>      } trap;<br>      struct CylinderParameters<br>      {<br>        float radius;<br>        float depth;  &#x2F;&#x2F; length along z-axis<br>        bool isRolling; &#x2F;&#x2F; needs to roll with vehicle?<br>        bool isSteering;&#x2F;&#x2F; needs to steer with vehicle?<br>      } cyl;<br>    };<br>    struct ShapeInit<br>    {<br>      ShapeType type;<br>      ShapeParameter params;<br>      float xyz[3];<br>      float rotation;<br>      float rgb[3];<br>    };<br>    struct VehicleModel<br>    {<br>      int remoteID;<br>      std::vector<ShapeInit> shapes;<br>    };<br>    struct VehicleState<br>    {<br>      int remoteID; &#x2F;&#x2F; this should be 0 for local vehicles<br>      float x;<br>      float z;<br>      float rotation;<br>      float speed;<br>      float steering;<br>    };<br>—|—  </p>
<h3 id="Final-Checklist-for-Part-2"><a href="#Final-Checklist-for-Part-2" class="headerlink" title="Final Checklist for Part 2"></a>Final Checklist for Part 2</h3><ul>
<li>Implement code in your graphical application to receive data server message “M” and display one or more vehicles accordingly with the correct shapes. </li>
<li>Implement code in your graphical application to report your local vehicle status to the server.</li>
</ul>
<h2 id="Part-3-Additional-Graphical-Objects"><a href="#Part-3-Additional-Graphical-Objects" class="headerlink" title="Part 3 - Additional Graphical Objects"></a>Part 3 - Additional Graphical Objects</h2><p>This part requires preparation before you come to the assessment. Learn to<br>draw additional graphical objects around your graphical vehicle. This could be<br>to draw in 3-D a line loop forming an arrow pointing at your vehicle from its<br>front, rear, left or right and moving with the vehicle as you move the vehicle<br>using a game controller or the keyboard. It could also be a circle drawn in 3D<br>space around your vehicle and the circle should move with the vehicle. Other<br>examples are drawing an arrow of a shape specified by your assessor to<br>indicate the direction of travel as determined by steering. Above mentioned<br>examples do not form the full list of potential tasks you may get on the day<br>of the assessment. However, it is prudent to prepare for rendering graphical<br>objects that could move with the vehicle, its wheels or its steering.<br>Vehicle speeds will range from 0 to 10 ms and steering angles will range<br>between 15 and +15 degrees.</p>
<h3 id="Final-Checklist-for-Part-3"><a href="#Final-Checklist-for-Part-3" class="headerlink" title="Final Checklist for Part 3"></a>Final Checklist for Part 3</h3><ul>
<li>Practice coding to incorporate additional graphical objects in 3D (which are not part of the vehicle body) that move with the vehicle. </li>
<li>Additional graphical objects drawn around your vehicle must appear when the key ‘Z’ is pressed.</li>
</ul>
<h2 id="Assessment"><a href="#Assessment" class="headerlink" title="Assessment"></a>Assessment</h2><ol>
<li>You are required to prepare a set of 3D objects and practice constructing vehicles from the objects in your own time. </li>
<li>Complete first progress check by Friday 5 pm of week 7. First progress check does not earn you any marks. However, if late, you will lose one mark per calendar day. Unavailability of demonstrators closer to the deadline is not considered as an excuse. Please make sure you sign the demonstrator’s name sheet after a successful progress check. </li>
<li>Complete second progress check by Friday 5 pm of week 8. You must have completed the first progress check to be able to complete the second progress check. Second progress check does not earn you any marks. However, if late, you will lose one mark per calendar day. Unavailability of demonstrators closer to the deadline is not considered as an excuse. Please make sure you sign the demonstrator’s name sheet after a successful progress check. </li>
<li>You must make an appointment with the demonstrator assigned to you by Friday 5 pm of Week 8. If you miss this deadline, the penalty is one mark per calendar day. DO THIS WELL AHEAD OF TIME. </li>
<li>You must get your work marked by a demonstrator during Week 10. You must have completed the second progress check to be able to get your work assessed. The penalty for late assessment is as per the School policy. </li>
<li>During assessment you will be required to bring in all of your source code. </li>
<li>At the time of assessment your assessor will give you the specifications for the local vehicle which you will then need to model using your developed classes. You will be given 20 minutes to prepare this model, complete any other assigned tasks and test them in your program. You will have incorporated all other functionality required before arriving at the assessment. As such when you connect to the data server, we should see the remote vehicles on the screen and they should begin to move automatically. </li>
<li>After such time your demonstrator will check the model you created to see if it appears to be correct to specification and any moving parts properly animate under vehicle motion. </li>
<li>Your demonstrator will also check the reporting of your local vehicle status to the data server. </li>
<li>You will then be asked to demonstrate your program by driving your graphical around on the screen. </li>
<li>Your demonstrator will then ask you to explain your code and class structure. Marks will be awarded out of 20 according to the following scheme:<br>* (a) Making the program compile and be fully operational on the day of assessment.<br>* (b) Whether the model looks and animates correctly.<br>* (c) The vehicle motion is demonstrated using an XBox 360 game controller.<br>* (d) Whether the live feed of data from the data server is correctly read and used.<br>* (e) Whether the local vehicle’s status is correctly reported to the data server.<br>* (f) Modularity: is the program broken up into well defined files, classes, functions?<br>* (g) Structure: Is the code efficient and logical?.<br>* (h) Did you clearly explain the program to your demonstrator by clearly answering the five questions he or she will ask you?<br>* (i) If you are up for a challenge, demonstrate to your demonstrator how you could give chase to vehicle with vehicle ID 1, when you press ‘L’. You will get an additional 10% of your mark, however, the total bonus marks for all assignments may not exceed 3.</li>
</ol>
<h3 id="An-Example-Vehicle-to-Model"><a href="#An-Example-Vehicle-to-Model" class="headerlink" title="An Example Vehicle to Model"></a>An Example Vehicle to Model</h3><p>Below is a sample specification for a simple vehicle.</p>
<ul>
<li>The x-axis, y-axis and z-axis are shown by the red, green and blue vectors respectively. </li>
<li>The small front wheels should be turned to reflect the vehicle’s steering angle. </li>
<li>All four wheels should rotate relative to vehicle speed. </li>
<li>The main body should be coloured with the RGB values (0.0, 0.6, 0.0). </li>
<li>The front (small) wheels should be coloured with the RGB values (1.0, 0.0, 0.0). </li>
<li>The back wheels should be coloured with the RGB values (0.0, 0.0, 1.0).</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://saferman.github.io/2023/09/04/C++%E4%BB%A3%E5%86%99%EF%BC%9AMTRN2500GroundVehicleSimulator/">http://saferman.github.io/2023/09/04/C++%E4%BB%A3%E5%86%99%EF%BC%9AMTRN2500GroundVehicleSimulator/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/C-%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">C++代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/09/07/Java%E4%BB%A3%E5%86%99%EF%BC%9ADSA2020ZombieSimulator/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="Java代写：DSA2020ZombieSimulator">
                        
                        <span class="card-title">Java代写：DSA2020ZombieSimulator</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-09-07
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Java%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">Java代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/09/02/C++%E4%BB%A3%E5%86%99%EF%BC%9ACOT4400DynamicProgramming/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="C++代写：COT4400DynamicProgramming">
                        
                        <span class="card-title">C++代写：COT4400DynamicProgramming</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-09-02
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/C-%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">C++代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
