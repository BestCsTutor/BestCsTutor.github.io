<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Haskell代写：CSCI3136RippleEffect, 留学生CS|辅导|代写">
    <meta name="description" content="实现一个  Ripple Effect  的游戏。![Ripple Effect](https://i0.wp.com/workology.com/wp-content&amp;#x2F;uploads&amp;#x2F;2013&amp;#x2F;08&amp;#x2F">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Haskell代写：CSCI3136RippleEffect | 留学生CS|辅导|代写</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="/css/reward.css">
    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 7.1.1"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">留学生CS|辅导|代写</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>辅导案例集合</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/comment" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>用户评价</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>联系我</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">留学生CS|辅导|代写</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			辅导案例集合
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/comment" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			用户评价
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			联系我
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/0.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Haskell代写：CSCI3136RippleEffect</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Haskell%E4%BB%A3%E5%86%99/">
                                <span class="chip bg-color">Haskell代写</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-03-23
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>实现一个 <a target="_blank" rel="noopener" href="https://rippleeffects.com/" title="Ripple Effect"> Ripple Effect </a> 的游戏。<br>![Ripple Effect](<a target="_blank" rel="noopener" href="https://i0.wp.com/workology.com/wp-">https://i0.wp.com/workology.com/wp-</a><br>content&#x2F;uploads&#x2F;2013&#x2F;08&#x2F;ripple-effect.jpg?ssl&#x3D;1)</p>
<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>Ripple Effect or Hakyuu is a logic puzzle somewhat similar to Sudoku. The<br>puzzle consists of a rectangular grid divided into regions called rooms or<br>cages. I’ll go with rooms. Some of the cells are already filled with numbers.<br>Most cells are empty.<br>Just as with Sudoku, the goal is to fill the empty cells with numbers so that<br>a number of rules are satisfied. The rules of Ripple Effect are as follows:</p>
<ul>
<li>Room Rule: Each room of size s must contain every number between 1 and s exactly once. </li>
<li>Cross Rule: If a cell c contains some value v, then another cell c in the same row or column can also contain value v only if the distance between c and c is more than v. For example, if c is at position (r, c) and stores the value 3, then none of the cells at positions (r - 3, c), (r - 2, c), (r - 1, c), (r + 1, c) (r + 2, c) (r + 3, c) (r, c - 3) (r, c - 2) (r, c - 1) (r, c + 1) (r, c + 2) (r, c + 3) can store the value 3. The cell at position (r + 4, c), for example, can store the value 3 because its distance to c is 3.<br>For the puzzle in Figure 1, the only solution that satisfies these conditions<br>is the following.</li>
</ul>
<h2 id="Your-Project"><a href="#Your-Project" class="headerlink" title="Your Project"></a>Your Project</h2><p>Implement, in Haskell of course, a command line tool ripple-effect that takes<br>two arguments. The first one is the name of a file from which to load a Ripple<br>Effect puzzle. The second is the name of a file to which to write the<br>solution. This program should do the following:</p>
<ul>
<li>Read the input file and print an error message if it is not readable. </li>
<li>Try to solve the puzzle. If there is no solution, it should print This puzzle has no solution. </li>
<li>If there is a solution, it should write the solution to the output file. </li>
<li>Optionally, you may choose to print the solution to the screen in human-readable format, as the puzzle viewer does, described under Test Data and Tools below.</li>
</ul>
<h2 id="Input-and-Output-Formats"><a href="#Input-and-Output-Formats" class="headerlink" title="Input and Output Formats"></a>Input and Output Formats</h2><h3 id="Input-Format"><a href="#Input-Format" class="headerlink" title="Input Format"></a>Input Format</h3><p>For a puzzle with r rows and c columns, the input file consists of 2r + 1<br>lines.</p>
<ul>
<li>The first r lines describe the rooms. Each of these lines contains c numbers separated by spaces. In other words, these lines form an r c grid corresponding to the cells of the puzzle. The number corresponding to each cell identifies the room that the cell belongs to. Two cells with the same number belong to the same room. Two cells with different numbers belong to different rooms. </li>
<li>The (r + 1)st line is always empty, to separate the lines describing the rooms from the lines describing the initial cell values. </li>
<li>The last r lines describe the cell values. Each line contains c entries separated by spaces. So, once again, these lines form an r c grid corresponding to the cells of the puzzle. If a cell is initially empty, then its corresponding value is a dash (-). If the cell is non-empty, then its corresponding value is the number the cell contains.<br>As an example, the format for the example puzzle in Figure 1 of this document<br>is<br>1  1  2  2  3  4  4  5<br>1  6  6  7  3  3  8  8<br>1  1  1  9  3  3  8  8<br>10 1  11 9  9  3  8  12<br>13 13 13 13 14 14 14 15<br>16 16 16 13 17 18 14 15<br>19 16 16 18 18 18 15 15<br>20 20 20 18 18 15 15 21</li>
</ul>
<h4 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h4><ul>
<li>In this example, the rooms are numbered by the order of their top-left cells. You should not rely on this being always the case (and I don’t see why it would help). </li>
<li>Most puzzles provided as test inputs (see Test Data and Tools below) have only rooms of size less than 10. Thus, all numbers in the puzzle can be represented as one-digit numbers. Neither your parser for puzzle files nor your solver should rely on this because there are some input files with rooms of size 10 or greater, and with some prefilled values in these rooms equal to 10 or greater.</li>
</ul>
<h3 id="Output-Format"><a href="#Output-Format" class="headerlink" title="Output Format"></a>Output Format</h3><p>For a puzzle with r rows and c columns, the output file should consist of r<br>lines storing c numbers each. The numbers on each line should be separated by<br>spaces. Thus, these lines form an r c grid of numbers corresponding to the<br>cells of the puzzle. The value corresponding to each puzzle cell should be the<br>value stored in this puzzle cell in the solution. For example, the solution in<br>Figure 3 is represented by the following output file content:<br>    1 4 1 2 3 1 2 1<br>    3 1 2 1 4 2 1 3<br>    5 2 7 3 6 1 4 5<br>    1 6 1 2 1 5 2 1<br>    2 3 5 1 2 4 3 2<br>    3 5 1 4 1 2 1 3<br>    1 2 4 1 3 6 5 4<br>    2 1 3 5 4 1 6 1</p>
<h2 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h2><p>Your program must satisfy the following requirements:</p>
<ul>
<li>It must deal with incorrect command-line arguments gracefully. That is, if too few or too many command line arguments are provided, your program should print a usage message, and must not crash.<br>USAGE: ripple-effect <input file> <output file></li>
<li>If the files given on the command line are not readable or not writable, your program is allowed to crash. Dealing with not being able to read or write a file requires either a lot of tedious code or the use of true exception handling to catch IOErrors. I do not expect you to do either in your code (unless you attempt the bonus challenge Exception Handling below). </li>
<li>The goal of this programming assignment is to have you write a somewhat non-trivial program in Haskell. My sample solution clocks in at just above 300 lines of code including empty lines but not counting comments. You are not (yet) expected to write the most efficient Haskell code possible.<br>However, your program should still be able to solve most of the provided<br>puzzles (see Test Data below) in a minute or less. If your code exceeds this<br>time bound significantly, then it is likely that you are doing something<br>wrong.</li>
</ul>
<h4 id="Important-note"><a href="#Important-note" class="headerlink" title="Important note"></a>Important note</h4><p>There are a number of puzzles among the ones I have provided as test data<br>which a fairly nave solver takes a long time to solve. For your reference, I<br>include running times of my two solver implementations for all puzzles with<br>the test data. timings-naive.txt contains the times it took my nave solver to<br>solve each puzzle. timings-fast.txt are the times it took my fast solver to<br>solve each puzzle. The fast solver was able to solve any of these puzzles in<br>0.01s. The one exception is puzzle450.txt. This puzzle proved significantly<br>more difficult than all the other puzzles in the input for some reason. Even<br>my initial attempt at a fast solver took 12 minutes to solve puzzle 450. An<br>improved implementation using a more careful choice of data representation and<br>using parallel evaluation strategies reduced the running time to around 10s<br>using 8 cores on my MacBook Pro. You are not expected to match these running<br>times nor to solve puzzle 450 in under 1 minute. You are welcome to try<br>though. I promise you’ll learn a lot about Haskell programming if you do. The<br>bonus challenges Running Time Part 1: A Better Algorithm and Running Time Part<br>2: Parallelism below ask you to try to make your code fast, but they’re<br>optional.<br>Your code must satisfy the following requirements:</p>
<ul>
<li>Obviously, the main function and all input&#x2F;output code must use the IO monad (possibly decorated with some monad transformers if you choose to do this). </li>
<li>The “business logic” of your program (parsing the input file once it has been loaded into memory and solving the puzzle) must be implemented as pure functions. This means that you are not allowed to use the IO or ST monad in your implementation of these functions. You are allowed to use the list, State, Reader, Writer and Maybe monads, including their transformer versions, because they do not add true side effects and only offer more convenience in describing pure computations. </li>
<li>You must define appropriate data types to represent the different entities in your program. If you were to do this in Java, you would probably have a class to represent a puzzle, a class to represent cells in a puzzle, and maybe a few others. You should do the same here. My code has a Puzzle type to represent a puzzle and a Cell type to represent a cell. I use simple (Int, Int) pairs to represent the size of a puzzle and the position of a cell in a puzzle. Defining new types for these would have required a lot of packing and unpacking of row and column indices. However, to improve readability, I defined type aliases and used those to indicate when an (Int, Int) pair represents a cell position and when it represents the size of a puzzle. </li>
<li>Your code should be broken into functions that each do just one thing, at least mostly. My code has functions to take a size and two lists of room indices and cell values and builds a puzzle from it, a function to find all the cells that belong to the same room as a given cell, (obviously) a function that searches for a solution to a given puzzle, etc, etc, etc.</li>
</ul>
<h2 id="Bonus-Challenges"><a href="#Bonus-Challenges" class="headerlink" title="Bonus Challenges"></a>Bonus Challenges</h2><p>The requirements above represent what I would consider (a) a functioning<br>program and (b) effective use of functional programming to implement such a<br>program. They still allow you to write pretty horrendous and inelegant code.<br>Try to do better the markers will thank you for it, because they will have a<br>much easier time trying to understand your code.<br>There are a number of opportunities to turn your code into more idiomatic<br>Haskell and improve its performance. If you feel comfortable programming in<br>Haskell and like to challenge yourself, here are a few optional requirements.<br>If your code meets these requirements, it earns you bonus marks.</p>
<h3 id="Exception-Handling-10-Bonus"><a href="#Exception-Handling-10-Bonus" class="headerlink" title="Exception Handling (10% Bonus)"></a>Exception Handling (10% Bonus)</h3><p>There are numerous places in the program where things can go wrong:</p>
<ul>
<li>The user may provide the wrong command line arguments. </li>
<li>The input file provided by the user may not exist. </li>
<li>The output file may not be writable. </li>
<li>The input file may exist but it contains what is most decidedly not a Ripple Effect puzzle in the expected format.<br>You can deal with all of these exceptional situations by implementing<br>functions that indicate success or failure in their return values (e.g., using<br>Maybe), and then you deal with errors in the same way a good C programmer<br>would: by inspecting the return values of functions and accordingly continuing<br>or aborting the computation. It is much more elegant to use an exception<br>handling monad to gracefully abort the computation when an error is<br>encountered.<br>This challenge asks you to implement dealing with errors during the execution<br>of your program using an appropriate exception handling monad. For full marks,<br>you should also catch exceptions thrown by the I&#x2F;O functions to read and write<br>files (when a file does not exist, isn’t readable or isn’t writable). Note<br>that these I&#x2F;O functions do not magically throw exceptions in whatever<br>exception monad you use. They throw actual exceptions. The difference is that<br>when using a monad to handle exceptions, we only implement the correct<br>operator to ensure the computation is aborted when an error is encountered. In<br>the end, this is still pure code without side-effects. The exceptions thrown<br>by I&#x2F;O functions are built into the Haskell run-time system in exactly the<br>same way as exceptions in Java or C++ are. If you don’t catch them, your<br>program crashes. Haskell offers numerous ways to deal with such true<br>exceptions. The most convenient method seems to be the try function from the<br>Control.Exception module. Search it up.<br>Back in your exception handling monad, you do not actually have to catch<br>exceptions anywhere, as all of these errors are fatal: If you can’t read the<br>input file, how should the computation continue, for example? You are expected<br>to wrap your entire program into a function call that checks whether an<br>exception was raised anywhere or not. If yes, then you should print an<br>appropriate error message, ideally corresponding to the error your program<br>encountered. If no exception was raised, then no action is required. In either<br>case, your program should exit gracefully and not crash.<br>Since most of the possible errors happen while doing I&#x2F;O, you cannot use the<br>Maybe or Either monad. Instead, you need to equip the IO monad with exception<br>handling. A good tool to use is the ExceptT monad transformer, and the Except<br>monad. Search them up on Hoogle. Except behaves exactly like the monad<br>instance for Either that we discussed in class, only its name is more<br>descriptive. ExceptT is the transformer version of Except.<br>In my own implementation, I defined a “program monad” Prog as<br>type Prog &#x3D; ExceptT String IO<br>that is, it equips the IO monad with exceptions of type String. All the non-<br>pure code of my implementation uses the Prog monad. I implemented a function<br>runProg :: Prog () -&gt; IO ()<br>that takes an action in the Prog monad and runs it. If this ends with an<br>exception, the error message representing it is printed. Otherwise, runProg<br>simply exits without taking any action. My main function is<br>main :: IO ()<br>main &#x3D; runProg $ do<br>– Implementation using the <code>Prog</code> monad</li>
</ul>
<h2 id="Search-Non-Determinism"><a href="#Search-Non-Determinism" class="headerlink" title="Search &#x3D; Non-Determinism"></a>Search &#x3D; Non-Determinism</h2><p>Programmers often use the term “non-determinism” when they mean “solution<br>search.” That’s exactly what the list monad does. Using the list monad to<br>model a computation means that we deterministically explore the space of all<br>possible computation paths. Your puzzle solver will have to “guess” for at<br>least some cells what value to assign to them, based on the possible values<br>for these cells not eliminated by the Room and Cross Rules. For all but one of<br>these choices, you will later encounter conflicts; those were the wrong<br>choices. One of the choices leads to a correct solution of the puzzle.<br>Given that your program implements a search for a solution, it is natural and<br>elegant to implement this search using the list monad. If you do so, correctly<br>and in more than just one place, then you earn 20% bonus marks.</p>
<h2 id="Running-Time-Part-1-A-Better-Algorithm"><a href="#Running-Time-Part-1-A-Better-Algorithm" class="headerlink" title="Running Time Part 1: A Better Algorithm"></a>Running Time Part 1: A Better Algorithm</h2><p>This is the biggest challenge, worth 30% bonus marks.</p>
<h3 id="Doing-the-Easy-Cells-First"><a href="#Doing-the-Easy-Cells-First" class="headerlink" title="Doing the Easy Cells First"></a>Doing the Easy Cells First</h3><p>If you simply inspect the empty cells in order and guess for each which value<br>it should have, your solver will be able to deal with small and easy puzzles<br>but even easy but bigger ones or small but hard ones will become a challenge.<br>There is just too much guessing involved. You can see from the timings in<br>timings_naive.txt that my nave solver took several hours for some of the<br>puzzles. I didn’t even attempt to run puzzle 450 to completion because my<br>solver did not produce a result for this input even after running for 24<br>hours.<br>A common strategy to minimize the amount of guessing in solution search is to<br>always branch on the variables with the fewest possible values. Here, this<br>means that we always pick a cell with the minimum number of possible values to<br>branch on. This means in particular that cells that have only one possible<br>value left based on the choices made so far are chosen first. We end up fixing<br>their values without any guessing, and those choices may fix the values of<br>other cells. This propagation of choices without any guessing may continue for<br>a while before we have to make our next actual guess. Clearly, this helps a<br>lot to make our program faster.<br>To implement this strategy, you will need a few ingredients:</p>
<ul>
<li>The basic type you use to represent a puzzle, even in a nave implementation, should have puzzle cells that store values of type Maybe Int, to represent the presence or absence of a value. Your better implementation should use a Puzzle type that is polymorphic in the type it uses to represent cell values. During the search, you use a puzzle representation where each cell stores a list of values, namely the list of all values for this cell that haven’t been ruled out by the Room or Cross Rule yet. </li>
<li>You can then maintain a priority queue of the empty cells, where the priority of each empty cell is the number of possible values it has left. You may hunt around online to see whether there exist good priority implementations on Hackage that you can use. I simply cooked my own using a Map as the underlying data structure. With a priority queue in hand, each recursive call picks the empty cell with minimum priority and either simply fills in its value if there’s only one possible value, or branches on the possible values that are left.<br>With this change in code, I managed to solve all puzzles in under 1s (almost<br>all of them in a few dozen milliseconds), except that pesky puzzle 450. That<br>one took 12 minutes using the improvement just described.</li>
</ul>
<h3 id="Not-an-Array-But-a-Binary-Tree"><a href="#Not-an-Array-But-a-Binary-Tree" class="headerlink" title="Not an Array But a Binary Tree"></a>Not an Array But a Binary Tree</h3><p>Given that a puzzle is a 2-d grid of cells, it is natural to store it as an<br>array. However, array updates are expensive as each such update requires<br>copying the entire array, and it turns out that the solution search performs a<br>lot of fine-grained array updates. For small puzzles, the copying isn’t a<br>death sentence. For large puzzles, such as puzzle 450, it is. It turns out<br>that using a Map (binary search tree) that maps each grid location to the cell<br>at this location instead of an array as the representation of the puzzle<br>reduces the amount of copying dramatically.<br>This change plus some additional changes in the search strategy that I don’t<br>care to detail here brought the running time of my code down to around 40s on<br>puzzle 450.</p>
<h2 id="Running-Time-Part-2-Parallelism"><a href="#Running-Time-Part-2-Parallelism" class="headerlink" title="Running Time - Part 2: Parallelism"></a>Running Time - Part 2: Parallelism</h2><p>Here’s the final thing you can try if you’re truly adventurous: Haskell allows<br>us to parallelize our code rather easily. It can be as simple as writing to<br>construct a pair (f, g) whose components are computed in parallel.<br>Specifically, this says that g should be evaluated in a separate thread while<br>f is evaluated in the current thread.<br>Changing half a dozen lines of code in my solver to add this type of<br>parallelism brought the running time on puzzle 450 down to 10s on 8 cores.</p>
<h2 id="Test-Data-and-Tools"><a href="#Test-Data-and-Tools" class="headerlink" title="Test Data and Tools"></a>Test Data and Tools</h2><h3 id="Test-Data"><a href="#Test-Data" class="headerlink" title="Test Data"></a>Test Data</h3><p>Along with this description of the project, I have posted a ZIP file<br>containing 470 Ripple Effect puzzles in the format described above. You can<br>use them to test your code. The markers will also use these inputs to evaluate<br>the correctness of your program.<br>The puzzles are numbered by increasing size. As I mentioned earlier, some of<br>the puzzles are (much) harder than others, at least for a nave solver. Whether<br>a puzzle is hard or not doesn’t depend only on its size. Thus, I’ve also<br>included two lists of timings:</p>
<ul>
<li>timings-naive.txt is the time it took my nave solver to solve each puzzle except puzzle 450. </li>
<li>timings-fast.txt is the time it took my fast solver to solve each puzzle.<br>You want to start testing your code on the puzzles that have fast solution<br>times in timings-naive.txt. As you make your code more efficient (if you<br>attempt the performance-oriented bonus challenges), then you can try harder<br>and harder puzzles and see whether you can come close to (or do better than ;)<br>) the running times listed in timings-fast.txt.</li>
</ul>
<h3 id="Puzzle-Printer-and-Solution-Checker"><a href="#Puzzle-Printer-and-Solution-Checker" class="headerlink" title="Puzzle Printer and Solution Checker"></a>Puzzle Printer and Solution Checker</h3><p>I installed a program ripple-effect-check on timberlea that hopefully helps<br>you with your efforts. I cannot post it as a ZIP file on Brightspace, as this<br>would mean that I’d have to share the source code with you, which contains<br>parts of my solution to this project. So, if you want to use this program, you<br>do need to log into timberlea and run it there.<br>You can either run it as &#x2F;users&#x2F;nzeh&#x2F;bin&#x2F;ripple-effect-check, or you can add<br>&#x2F;users&#x2F;nzeh&#x2F;bin to your Shell’s search path on timberlea, and then you can run<br>it simply as ripple-effect-check, as I did in the examples below.<br>When given a single command-line argument, ripple-effect-check expects this<br>argument to be the name of a Ripple Effect input file. The program prints the<br>puzzle in human-readable form:<br>If you call ripple-effect-check with two files as argument, the first a puzzle<br>file and the second a claimed solution, then the output is the puzzle with its<br>solution filled in. If the solution satisfies the Room and Cross Rules, that<br>is, if it is a correct solution, then you will also see a line<br>    Solution correct<br>For example,<br>    $ ripple-effect-check inputs&#x2F;puzzle1.txt outputs&#x2F;puzzle1.txt<br>If there are violations of the Room or Cross Rule or any cell that already had<br>a value in the input has a different value in the output, all of these<br>violations are listed below the puzzle. For example,<br>    $ ripple-effect-check inputs&#x2F;puzzle1.txt outputs&#x2F;puzzle1_incorrect.txt</p>
<h3 id="A-Better-Algorithm"><a href="#A-Better-Algorithm" class="headerlink" title="A Better Algorithm"></a>A Better Algorithm</h3><p>It is hard to quantify whether you did this correctly. Sure, I could give you<br>marks based on whether you approached the problem exactly as I did, but that<br>would be silly and would stifle creativity. So the requirements are pretty<br>general here. To make sure you don’t get clever and try to meet these<br>requirements by using the IO or ST monad (and the mutable arrays they offer)<br>or use Haskell’s foreign function interface to escape into C code, let me<br>stipulate that your solution search must remain 100% side-effect-free and must<br>be implemented in Haskell.<br>I would expect that the first 15% reflect the use of a better search strategy,<br>while the second 15% reflect switching to a better data structure, as outlined<br>in the description of this challenge. But you never know, maybe you manage to<br>meet these requirements in a different way, as long as it’s pure Haskell.</p>
<h3 id="Use-of-Parallelism"><a href="#Use-of-Parallelism" class="headerlink" title="Use of Parallelism"></a>Use of Parallelism</h3><p>You get marks for this challenge if you use the par function from<br>Control.Parallel or the Eval or Par monad from Control.Parallel.Strategies or<br>Control.Monad.Par to speed up the search, and if this actually speeds up the<br>search. Incorrect use of parallelism may actually slow your code down. My code<br>uses neither par, Eval nor Par. It uses a monad from a third-party library<br>specifically designed to parallelize solution search. This monad does nothing<br>that you couldn’t do yourself using par. If you end up Googling and find and<br>use this or another implementation of a parallel search monad, your code is<br>considered to meet the requirements of this challenge, but again only if you<br>actually achieve a reasonable speed-up.</p>
<h4 id="Important"><a href="#Important" class="headerlink" title="Important"></a>Important</h4><p>The markers need a way to evaluate how much the use of parallelism speeds up<br>your code. Thus, to get marks for this challenge, you need to submit two<br>versions of your code. The first one does not use parallism. The second one<br>does. The only difference between these two versions must be the<br>parallelization of the search strategy. Both versions must use the same data<br>structures and overall search strategy (e.g., choice which cell to fill in<br>each step).</p>
<h2 id="Submission"><a href="#Submission" class="headerlink" title="Submission"></a>Submission</h2><p>Assignments must be submitted electronically via Brightspace. You must submit<br>your project as a single ZIP or TAR file. Submissions as multiple individual<br>files and submissions in other archive formates are not acceptable.</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">SafePoker</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://saferman.github.io/2019/03/23/Haskell%E4%BB%A3%E5%86%99%EF%BC%9ACSCI3136RippleEffect/">http://saferman.github.io/2019/03/23/Haskell%E4%BB%A3%E5%86%99%EF%BC%9ACSCI3136RippleEffect/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">SafePoker</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Haskell%E4%BB%A3%E5%86%99/">
                                    <span class="chip bg-color">Haskell代写</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s12 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/newqrcode.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2019/03/25/OperatingSystem%E4%BB%A3%E5%86%99%EF%BC%9ACS308NamelessPipes/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/14.jpg" class="responsive-img" alt="OperatingSystem代写：CS308NamelessPipes">
                        
                        <span class="card-title">OperatingSystem代写：CS308NamelessPipes</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2019-03-25
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Operating-System%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">Operating System代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/03/22/Python%E4%BB%A3%E5%86%99%EF%BC%9ACOMP3308The3-DigitPuzzle/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/9.jpg" class="responsive-img" alt="Python代写：COMP3308The3-DigitPuzzle">
                        
                        <span class="card-title">Python代写：COMP3308The3-DigitPuzzle</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2019-03-22
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            SafePoker
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Python%E4%BB%A3%E5%86%99/">
                        <span class="chip bg-color">Python代写</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2018-2024</span>
            
            <a href="/contact" target="_blank">SafePoker</a>
            
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">


    <a href="mailto:hhh@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>













</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
